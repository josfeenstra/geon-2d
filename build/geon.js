(()=>{"use strict";eval('\n// CONCATENATED MODULE: ./src/math/Vector2.ts\n// author: Jos Feenstra\r\n// inspiration from Three.js\r\n// note: recycle the class as much as possble, building a new class is expensive,\r\n// especially in javascript\r\nclass Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    // --- factories & other statics\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector2(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector2(Math.random(), Math.random());\r\n    }\r\n    static fromRandomAngle() {\r\n        let alpha = Math.random() * Math.PI * 2;\r\n        return new Vector2(Math.cos(alpha), Math.sin(alpha));\r\n    }\r\n    static from2Pt(from, to) {\r\n        return new Vector2(from.x - to.x, from.y - to.y);\r\n    }\r\n    static fromCopy(other) {\r\n        return this.zero().copy(other);\r\n    }\r\n    static zero() { return new Vector2(0, 0); }\r\n    static NaN() { return new Vector2(NaN, NaN); }\r\n    static fromCircumcenter(a, b, c) {\r\n        const asum = a.squareSum();\r\n        const bsum = b.squareSum();\r\n        const csum = c.squareSum();\r\n        // sort of cross product\r\n        let d = 2 * (a.x * (b.y - c.y) +\r\n            b.x * (c.y - a.y) +\r\n            c.x * (a.y - b.y));\r\n        // if this triangle has no circumcenter? \r\n        if (d < 0.000001)\r\n            return Vector2.NaN();\r\n        let x = (asum * (b.y - c.y) +\r\n            bsum * (c.y - a.y) +\r\n            csum * (a.y - b.y)) / d;\r\n        let y = (asum * (c.x - b.x) +\r\n            bsum * (a.x - c.x) +\r\n            csum * (b.x - a.x)) / d;\r\n        return new Vector2(x, y);\r\n    }\r\n    static getSign(a, b, c) {\r\n        // test half plane relationship\r\n        // <0 : point on first half\r\n        // 0  : points collinear\r\n        // >0 : point on second half \r\n        return (a.x - c.x) * (b.y - c.y) -\r\n            (b.x - c.x) * (a.y - c.y);\r\n    }\r\n    // --- basics\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    roughlyEquals(v, tol) {\r\n        return (Math.abs(this.x - v.x) < tol &&\r\n            Math.abs(this.y - v.y) < tol);\r\n    }\r\n    equals(v) {\r\n        return ((v.x === this.x) && (v.y === this.y));\r\n    }\r\n    toString() {\r\n        return `Vector3(${this.x}, ${this.y})`;\r\n    }\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        return this;\r\n    }\r\n    // --- math\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        return this;\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        return this;\r\n    }\r\n    divscale(v) {\r\n        this.x /= v;\r\n        this.y /= v;\r\n        return this;\r\n    }\r\n    min(other) {\r\n        this.x = Math.min(this.x, other.x);\r\n        this.y = Math.min(this.y, other.y);\r\n        return this;\r\n    }\r\n    max(other) {\r\n        this.x = Math.max(this.x, other.x);\r\n        this.y = Math.max(this.y, other.y);\r\n        return this;\r\n    }\r\n    clamp(min, max) {\r\n        // assumes min < max, componentwise\r\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\r\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\r\n        return this;\r\n    }\r\n    clampScalar(minVal, maxVal) {\r\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\r\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\r\n        return this;\r\n    }\r\n    clampLength(min, max) {\r\n        const length = this.length();\r\n        return this.divscale(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floor() {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    round() {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        return this;\r\n    }\r\n    roundToZero() {\r\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\r\n        return this;\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        return this.x * v.y - this.y * v.x; // ????\r\n    }\r\n    squareSum() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y);\r\n    }\r\n    normalize() {\r\n        return this.divscale(this.length() || 1);\r\n    }\r\n    angle() {\r\n        // computes the angle in radians with respect to the positive x-axis\r\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\r\n        return angle;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        const dx = this.x - v.x, dy = this.y - v.y;\r\n        return dx * dx + dy * dy;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        this.x += (other.x - this.x) * alpha;\r\n        this.y += (other.y - this.y) * alpha;\r\n        return this;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/2D/Renderer2.ts\n// author: Jos Feenstra\r\n\r\n// only renderer talks to ctx & canvas.\r\n// do all the camera work in here\r\nclass Renderer2 {\r\n    constructor(canvas, geon) {\r\n        // visuals\r\n        this.slowfade = false;\r\n        this.pointsize = 5;\r\n        this.pointcolor = "#ffffff";\r\n        this.linecolor = "#ffffff";\r\n        this.fillcolor = "#666666";\r\n        this.geon = geon;\r\n        this.ctx = canvas.getContext("2d");\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    reset() {\r\n        this.slowfade = false;\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    // TODO fix this once i build matrices\r\n    applyOffset(v) {\r\n        return v.clone().add(this.offset).scale(this.scale);\r\n    }\r\n    revertOffset(v) {\r\n        return v.clone().scale(1 / this.scale).sub(this.offset);\r\n    }\r\n    // this clears with a transparant layer, for easy delayed effect\r\n    clearFade(alpha) {\r\n        // adjust color settings\r\n        const color = this.ctx.fillStyle;\r\n        this.ctx.fillStyle = "#000000ff";\r\n        this.ctx.globalAlpha = alpha;\r\n        this.ctx.fillRect(0, 0, this.geon.width, this.geon.height);\r\n        // reset color settings \r\n        this.ctx.globalAlpha = 1;\r\n        this.ctx.fillStyle = color;\r\n    }\r\n    clear() {\r\n        if (this.slowfade)\r\n            this.clearFade(0.1);\r\n        else\r\n            this.ctx.clearRect(0, 0, this.geon.width, this.geon.height);\r\n    }\r\n    point(x, y) {\r\n        // todo camera\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(x, y, this.pointsize, 0, Math.PI * 2, false);\r\n        this.ctx.fill();\r\n    }\r\n    points(points) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.ctx.beginPath();\r\n            let v = this.applyOffset(points[i]);\r\n            this.ctx.arc(v.x, v.y, this.pointsize, 0, Math.PI * 2, false);\r\n            this.ctx.fill();\r\n        }\r\n    }\r\n    line(line) {\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(line.from.x, line.from.y);\r\n        this.ctx.lineTo(line.to.x, line.to.y);\r\n        this.ctx.stroke();\r\n    }\r\n    lineSegments(vertices) {\r\n        this.ctx.beginPath();\r\n        for (let i = 0; i < vertices.length; i += 2) {\r\n            let ii = i + 1;\r\n            let v1 = this.applyOffset(vertices[i]);\r\n            let v2 = this.applyOffset(vertices[ii]);\r\n            this.ctx.moveTo(v1.x, v1.y);\r\n            this.ctx.lineTo(v2.x, v2.y);\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n    circles(points, radii) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.ctx.beginPath();\r\n            let v = this.applyOffset(points[i]);\r\n            let r = radii[i] * this.scale;\r\n            this.ctx.arc(v.x, v.y, r, 0, Math.PI * 2, false);\r\n            this.ctx.stroke();\r\n        }\r\n    }\r\n    text(message, pos) {\r\n        this.ctx.font = \'14px "Lucida Console", Monaco, monospace\';\r\n        this.ctx.fillText(message, pos.x, pos.y);\r\n    }\r\n    rectangle() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n    polygon() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Geon.ts\n\r\n\r\nclass Geon {\r\n    constructor(canvas) {\r\n        this.looping = false;\r\n        this.keysDown = {};\r\n        this.keysPressed = [];\r\n        this.mouse = Vector2.zero();\r\n        this.worldMouse = Vector2.zero();\r\n        this.mouseLeftDown = false;\r\n        this.mouseLeftPressed = false;\r\n        this.mouseLeftPrev = false;\r\n        this.mouseRightDown = false;\r\n        this.mouseRightPressed = false;\r\n        this.mouseRightPrev = false;\r\n        this.mouseMiddleDown = false;\r\n        this.mouseMiddlePressed = false;\r\n        this.mouseMiddlePrev = false;\r\n        // window\r\n        this.canvas = canvas;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n        this.setWindow();\r\n        // window.onresize = this.setWindow;\r\n        // rendering\r\n        this.r = new Renderer2(canvas, this);\r\n        // time\r\n        this.tick = 0;\r\n        this.oldTime = Date.now();\r\n        this.newTime = this.oldTime;\r\n        // mouse\r\n        canvas.onmousemove = this.setMousePos.bind(this);\r\n        canvas.onmousedown = this.setMouseDown.bind(this);\r\n        canvas.onmouseup = this.setMouseUp.bind(this);\r\n        canvas.oncontextmenu = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        // keyboard\r\n        canvas.onkeydown = this.onKeyDown.bind(this);\r\n        canvas.onkeypress = this.onKeyPressed.bind(this);\r\n        canvas.onkeyup = this.onKeyUp.bind(this);\r\n        for (let i = 0; i < 223; i++) {\r\n            this.keysDown[i] = false;\r\n        }\r\n        canvas.focus();\r\n    }\r\n    // ...\r\n    load(game) {\r\n        this.r.reset();\r\n        this.program = game;\r\n        game.start(this);\r\n        if (!this.looping)\r\n            this.loop();\r\n    }\r\n    loadMeta(program) {\r\n        this.meta = program;\r\n        program.start(this);\r\n    }\r\n    IsKeyDown(key) {\r\n        return this.keysDown[key];\r\n    }\r\n    IsKeyPressed(key) {\r\n        return this.keysPressed.includes(key);\r\n    }\r\n    onKeyDown(e) {\r\n        if (this.keysDown[e.key] == true)\r\n            return;\r\n        console.log(e.key);\r\n        this.keysDown[e.key.toLowerCase()] = true;\r\n        this.keysPressed.push(e.key);\r\n    }\r\n    onKeyUp(e) {\r\n        this.keysDown[e.key.toLowerCase()] = false;\r\n    }\r\n    onKeyPressed(e) {\r\n    }\r\n    // ...\r\n    loop() {\r\n        this.looping = true;\r\n        function step() {\r\n            var _a, _b;\r\n            // update time\r\n            this.newTime = Date.now();\r\n            this.tick = (this.newTime - this.oldTime);\r\n            this.oldTime = this.newTime;\r\n            // update mouse\r\n            this.mouseLeftPressed = (this.mouseLeftPrev != this.mouseLeftDown) && this.mouseLeftDown;\r\n            this.mouseRightPressed = (this.mouseRightPrev != this.mouseRightDown) && this.mouseRightDown;\r\n            this.mouseMiddlePressed = (this.mouseMiddlePrev != this.mouseMiddleDown) && this.mouseMiddleDown;\r\n            this.mouseLeftPrev = this.mouseLeftDown;\r\n            this.mouseRightPrev = this.mouseRightDown;\r\n            this.mouseMiddlePrev = this.mouseMiddleDown;\r\n            // TODO : dont update if nothing moved (?)\r\n            this.program.update(this);\r\n            this.r.clear();\r\n            this.program.draw(this);\r\n            // update metaprogram afterwards\r\n            (_a = this.meta) === null || _a === void 0 ? void 0 : _a.update(this);\r\n            (_b = this.meta) === null || _b === void 0 ? void 0 : _b.draw(this);\r\n            // refresh keypresses\r\n            this.keysPressed = [];\r\n            // Call the game loop\r\n            window.requestAnimationFrame(step.bind(this));\r\n        }\r\n        window.requestAnimationFrame(step.bind(this));\r\n    }\r\n    setMousePos(e) {\r\n        // this is a bit messy, BUT, multiply by camera parameters\r\n        this.mouse = new Vector2(e.clientX, e.clientY);\r\n        this.worldMouse = this.r.revertOffset(this.mouse);\r\n    }\r\n    setMouseUp(e) {\r\n        let code = e.buttons;\r\n        if (code < 4) {\r\n            this.mouseMiddleDown = false;\r\n        }\r\n        if (code < 2) {\r\n            this.mouseRightDown = false;\r\n        }\r\n        if (code < 1) {\r\n            this.mouseLeftDown = false;\r\n        }\r\n    }\r\n    setMouseDown(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let code = e.buttons;\r\n        if (code >= 4) {\r\n            code -= 4;\r\n            this.mouseMiddleDown = true;\r\n        }\r\n        if (code >= 2) {\r\n            code -= 2;\r\n            this.mouseRightDown = true;\r\n        }\r\n        if (code >= 1) {\r\n            code -= 1;\r\n            this.mouseLeftDown = true;\r\n        }\r\n        return false;\r\n    }\r\n    setWindow() {\r\n        console.log("setting window...");\r\n        this.canvas.width = document.body.clientWidth;\r\n        this.canvas.height = document.body.clientHeight;\r\n        this.canvas.style.width = this.canvas.width + "px";\r\n        this.canvas.style.height = this.canvas.height + "px";\r\n        this.width = this.canvas.width;\r\n        this.height = this.canvas.height;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program.ts\nclass Program {\r\n    constructor() {\r\n        this.title = "";\r\n        this.description = "";\r\n    }\r\n    start(geon) {\r\n        //  init geometry \r\n    }\r\n    update(geon) {\r\n        // update geometry\r\n    }\r\n    draw(geon) {\r\n        // draw geometry\r\n    }\r\n    exit(geon) {\r\n        // deallocate ? clean?\r\n    }\r\n}\r\n// just a flag for now\r\nclass MetaProgram extends Program {\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/SelectorMetaProgram.ts\n\r\n\r\n// metaprogram\r\nclass SelectorMetaProgram extends MetaProgram {\r\n    constructor(programs) {\r\n        super();\r\n        this.current = 0;\r\n        this.isAnimating = false;\r\n        this.animationCounter = 1;\r\n        this.comeback = false;\r\n        this.programs = programs;\r\n        if (this.programs.length == 0)\r\n            throw "Need at least 1 program!";\r\n    }\r\n    start(geon) {\r\n        this.programs[this.current];\r\n    }\r\n    update(geon) {\r\n        // listen for keypresses \r\n        // stupid i know. More specific listening would be better.\r\n        for (let i = 1; i < 10; i++) {\r\n            if (geon.IsKeyPressed(i.toString())) {\r\n                this.prepareSwapProgram(i - 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    draw(geon) {\r\n        // draw instructions \r\n        if (geon.program != null)\r\n            geon.r.text(geon.program.title, new Vector2(10, 20));\r\n        geon.r.text("tab using [1] - [2]", new Vector2(10, 50));\r\n        geon.r.text("use left and right mouse button to interact", new Vector2(10, 80));\r\n        if (geon.program != null)\r\n            geon.r.text(geon.program.description, new Vector2(10, 110));\r\n        // draw transitions\r\n        const speed = 0.015;\r\n        if (this.isAnimating) {\r\n            if (this.animationCounter > 1) {\r\n                this.isAnimating = false;\r\n            }\r\n            geon.r.clearFade(1 - this.animationCounter);\r\n            if (this.animationCounter > 0) {\r\n                if (this.comeback)\r\n                    this.animationCounter += speed;\r\n                else\r\n                    this.animationCounter -= speed;\r\n            }\r\n            else {\r\n                this.animationCounter += 0.01;\r\n                this.comeback = true;\r\n                this.swapProgram(geon);\r\n            }\r\n        }\r\n    }\r\n    prepareSwapProgram(num) {\r\n        if (num < 0 || num >= this.programs.length) {\r\n            console.log("no program [" + num.toString() + "].");\r\n            return;\r\n        }\r\n        console.log("swapping to program " + num.toString());\r\n        // prepare for animation\r\n        this.current = num;\r\n        this.isAnimating = true;\r\n        this.comeback = false;\r\n        this.animationCounter = 1;\r\n        // load\r\n        // fade in\r\n    }\r\n    swapProgram(geon) {\r\n        geon.load(new this.programs[this.current]());\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/BounceBallsProgram.ts\n\r\n\r\nclass BounceBallsProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.points = [];\r\n        this.vectors = [];\r\n        this.count = 100;\r\n        this.speed = 2;\r\n        this.title = \'bounce_balls\';\r\n        this.description = "press v to turn trails off";\r\n    }\r\n    start(geon) {\r\n        geon.r.slowfade = true;\r\n        this.points = new Array(this.count);\r\n        this.vectors = new Array(this.count);\r\n        for (let i = 0; i < this.count; i++) {\r\n            this.points[i] = Vector2.fromRandom().mul(geon.bounds);\r\n            this.vectors[i] = Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize();\r\n        }\r\n        console.log("created a bunch of points");\r\n    }\r\n    update(geon) {\r\n        for (let i = 0; i < this.count; i++) {\r\n            let p = this.points[i];\r\n            let v = this.vectors[i];\r\n            if (geon.mouseLeftDown) {\r\n                // disrupt the vector, based on how closeby the mouse is\r\n                let dir = Vector2.from2Pt(p, geon.mouse);\r\n                let length = dir.length();\r\n                dir.normalize().scale(Math.min(4, 100 / length));\r\n                v.add(dir);\r\n            }\r\n            p.add(v);\r\n            let length = v.length();\r\n            if (length > this.speed) {\r\n                v.setLength(length * 0.99);\r\n            }\r\n            // bounce at edge\r\n            if (p.x < 0 || p.x > geon.bounds.x)\r\n                v.x = -v.x;\r\n            if (p.y < 0 || p.y > geon.bounds.y)\r\n                v.y = -v.y;\r\n        }\r\n        // if mouse is nearby, move away from it\r\n        if (geon.mouseRightPressed) {\r\n            for (let i = 0; i < 100; i++) {\r\n                this.count += 1;\r\n                this.points.push(Vector2.fromRandom().mul(geon.bounds));\r\n                this.vectors.push(Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize());\r\n            }\r\n        }\r\n        if (geon.IsKeyPressed(\'v\')) {\r\n            console.log("tab");\r\n            geon.r.slowfade = !geon.r.slowfade;\r\n        }\r\n    }\r\n    draw(geon) {\r\n        this.points.forEach(p => geon.r.point(p.x, p.y));\r\n        // draw at mouse position;\r\n        if (geon.mouseLeftDown) {\r\n            geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        }\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/geo2/Delaunay.ts\n// author : Jos Feenstra\r\n// TODO: extend from a generic triangulation? might be nice to have\r\n\r\nclass Delaunay {\r\n    constructor() {\r\n        // ... Util\r\n        // store the last triangle\r\n        this.walkCursor = 0;\r\n        this.pts = [];\r\n        this.trs = [];\r\n        this.cc = [];\r\n        // init big base triangle\r\n        this.pts.push(new Vector2(-10000, -10000));\r\n        this.pts.push(new Vector2(10000, -10000));\r\n        this.pts.push(new Vector2(0, 10000));\r\n        this.trs.push([0, 1, 2, -1, -1, -1]);\r\n    }\r\n    // ... Getters \r\n    getVertices() {\r\n        return this.pts;\r\n    }\r\n    getEdges() {\r\n        let edges = [];\r\n        for (let tr of this.trs) {\r\n            let a = this.pts[tr[0]];\r\n            let b = this.pts[tr[1]];\r\n            let c = this.pts[tr[2]];\r\n            edges.push(a);\r\n            edges.push(b);\r\n            edges.push(a);\r\n            edges.push(c);\r\n            edges.push(b);\r\n            edges.push(c);\r\n        }\r\n        return edges;\r\n    }\r\n    getCC() {\r\n        return { cc: this.cc, r: this.cc.map((c, i) => c.disTo(this.pts[this.trs[i][0]])) };\r\n    }\r\n    calculateCC() {\r\n        this.cc = this.trs.map(tr => Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]));\r\n    }\r\n    getVoronoiEdges(calculateCC = false) {\r\n        let edges = [];\r\n        if (calculateCC || this.cc.length != this.trs.length)\r\n            this.calculateCC();\r\n        // per nb relation : if its not -1 : build an edge between nb cc\'s. \r\n        for (let i = 0; i < this.trs.length; i++) {\r\n            let triangle = this.trs[i];\r\n            for (let ii = 3; ii < 6; ii++) {\r\n                let nb = triangle[ii];\r\n                if (nb == -1)\r\n                    continue;\r\n                edges.push(this.cc[i]);\r\n                edges.push(this.cc[nb]);\r\n            }\r\n        }\r\n        return edges;\r\n    }\r\n    // ... Interface\r\n    Insert(insertion) {\r\n        // dont insert if too similar to existing \r\n        if (this.pts.some(v => insertion.roughlyEquals(v, 0.1))) {\r\n            console.log("to close to existing point");\r\n            return false;\r\n        }\r\n        // add it\r\n        const inID = this.pts.length;\r\n        this.pts.push(insertion);\r\n        // get triangle and ID values\r\n        const trID = this.selectTriangle(insertion);\r\n        if (trID == -1) {\r\n            console.log("triangle walk failed");\r\n            return false;\r\n        }\r\n        const tr = this.trs[trID];\r\n        const original_a_ID = tr[0];\r\n        const original_b_ID = tr[1];\r\n        const original_c_ID = tr[2];\r\n        const original_bcID = tr[3];\r\n        const original_caID = tr[4];\r\n        const original_abID = tr[5];\r\n        const abID = trID;\r\n        const bcID = this.trs.length;\r\n        const caID = this.trs.length + 1;\r\n        // edit 1 triangle, add 2 new ones \r\n        this.trs[trID] = [original_a_ID, original_b_ID, inID, bcID, caID, original_abID];\r\n        this.trs.push([original_b_ID, original_c_ID, inID, caID, abID, original_bcID]);\r\n        this.trs.push([original_c_ID, original_a_ID, inID, abID, bcID, original_caID]);\r\n        // fix topology\r\n        this.replaceNeighbor(original_bcID, trID, bcID);\r\n        this.replaceNeighbor(original_caID, trID, caID);\r\n        this.makeDelaunay([abID, bcID, caID], inID);\r\n        // succes!\r\n        return true;\r\n    }\r\n    selectTriangle(target) {\r\n        // select a triangle based on a walking triangle algorithm\r\n        const combinations = [[0, 1, 2], [1, 2, 0], [2, 0, 1]];\r\n        let trID = this.walkCursor;\r\n        for (let _ = 0; _ < this.trs.length; _++) {\r\n            for (let c of combinations) {\r\n                if (trID == -1)\r\n                    return -1;\r\n                let sign = Vector2.getSign(target, this.pts[this.trs[trID][c[0]]], this.pts[this.trs[trID][c[1]]]);\r\n                if (sign < 0) {\r\n                    trID = this.getNeighborTriangle(trID, this.trs[trID][c[2]]);\r\n                    break;\r\n                }\r\n                if (c[0] == 2) {\r\n                    this.walkCursor = trID;\r\n                    return trID;\r\n                }\r\n            }\r\n        }\r\n        // too many steps have been taken\r\n        this.walkCursor = 0;\r\n        return -1;\r\n    }\r\n    makeDelaunay(trIDS, pID) {\r\n        // flip until graph is delaunay\r\n        while (trIDS.length > 0) {\r\n            let trID = trIDS.pop();\r\n            let tr = this.trs[trID];\r\n            let nbID = this.getNeighborTriangle(trID, pID);\r\n            if (nbID == -1)\r\n                continue;\r\n            let qID = this.getNeighborPoint(nbID, trID);\r\n            let q = this.pts[qID];\r\n            let c = Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]);\r\n            if (c.equals(Vector2[NaN]())) {\r\n                continue;\r\n            }\r\n            let radius = c.disTo(this.pts[tr[0]]);\r\n            if (c.disTo(q) < radius) {\r\n                // flip!\r\n                // points p, q, r and s\r\n                const rID = tr[0];\r\n                const sID = tr[1];\r\n                // foreign neighbors \r\n                const fnb_1 = this.getNeighborTriangle(trID, rID);\r\n                const fnb_2 = this.getNeighborTriangle(trID, sID);\r\n                const fnb_3 = this.getNeighborTriangle(nbID, rID);\r\n                const fnb_4 = this.getNeighborTriangle(nbID, sID);\r\n                this.replaceNeighbor(fnb_1, trID, nbID);\r\n                this.replaceNeighbor(fnb_4, nbID, trID);\r\n                this.trs[trID] = [rID, qID, pID, nbID, fnb_2, fnb_4];\r\n                this.trs[nbID] = [qID, sID, pID, fnb_1, trID, fnb_3];\r\n                trIDS.push(trID);\r\n                trIDS.push(nbID);\r\n            }\r\n        }\r\n    }\r\n    // ... Helpers\r\n    replaceNeighbor(trID, nbOld, nbNew) {\r\n        // there are prettier ways, but this is fast\r\n        if (trID == -1)\r\n            return;\r\n        if (this.trs[trID][3] == nbOld)\r\n            this.trs[trID][3] = nbNew;\r\n        else if (this.trs[trID][4] == nbOld)\r\n            this.trs[trID][4] = nbNew;\r\n        else if (this.trs[trID][5] == nbOld)\r\n            this.trs[trID][5] = nbNew;\r\n        else\r\n            console.log("replace neighbor failed!");\r\n    }\r\n    getNeighborTriangle(triangleID, pointID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][0] == pointID)\r\n            index = 3;\r\n        if (this.trs[triangleID][1] == pointID)\r\n            index = 4;\r\n        if (this.trs[triangleID][2] == pointID)\r\n            index = 5;\r\n        return this.trs[triangleID][index];\r\n    }\r\n    getNeighborPoint(triangleID, neighborID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][3] == neighborID)\r\n            index = 0;\r\n        if (this.trs[triangleID][4] == neighborID)\r\n            index = 1;\r\n        if (this.trs[triangleID][5] == neighborID)\r\n            index = 2;\r\n        return this.trs[triangleID][index];\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/ProgramHelpers.ts\n\r\nclass ProgramHelpers {\r\n    static getMovementVector(geon, minspeed, maxspeed) {\r\n        let speed = minspeed;\r\n        let velocity = new Vector2(0, 0);\r\n        if (geon.IsKeyDown("shift"))\r\n            speed = maxspeed;\r\n        if (geon.IsKeyDown("arrowup") || geon.IsKeyDown("w"))\r\n            velocity.add(new Vector2(0, 1));\r\n        if (geon.IsKeyDown("arrowdown") || geon.IsKeyDown("s"))\r\n            velocity.add(new Vector2(0, -1));\r\n        if (geon.IsKeyDown("arrowleft") || geon.IsKeyDown("a"))\r\n            velocity.add(new Vector2(1, 0));\r\n        if (geon.IsKeyDown("arrowright") || geon.IsKeyDown("d"))\r\n            velocity.add(new Vector2(-1, 0));\r\n        return velocity.setLength(speed);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/DelaunayProgram.ts\n\r\n\r\n\r\n\r\nclass DelaunayProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.SWITCH_KEY = \'v\';\r\n        this.switch = 0;\r\n        this.dt = new Delaunay();\r\n        this.p = [];\r\n        // overrides\r\n        this.title = \'delaunay\';\r\n        this.description = `use ${this.SWITCH_KEY} to change visuals`;\r\n    }\r\n    start(geon) {\r\n        let pt = new Vector2(geon.width / 2, geon.height / 2);\r\n        this.add(pt);\r\n    }\r\n    update(geon) {\r\n        if (geon.mouseLeftPressed) {\r\n            let insertion = Vector2.fromCopy(geon.worldMouse);\r\n            this.add(insertion);\r\n        }\r\n        if (geon.mouseRightDown) {\r\n            this.pull(geon.worldMouse);\r\n        }\r\n        if (geon.IsKeyPressed(this.SWITCH_KEY)) {\r\n            this.switch += 1;\r\n            if (this.switch > 2)\r\n                this.switch = 0;\r\n        }\r\n        // lerp dt back to original\r\n        this.dt.getVertices().forEach((e, i) => {\r\n            e.lerp(this.p[i], 0.05);\r\n        });\r\n        // update camera\r\n        let vel = ProgramHelpers.getMovementVector(geon, 2 / geon.r.scale, 5 / geon.r.scale);\r\n        geon.r.offset.add(vel);\r\n        if (geon.IsKeyPressed(\'q\'))\r\n            geon.r.scale *= 1.5;\r\n        if (geon.IsKeyPressed(\'e\'))\r\n            geon.r.scale *= 0.5;\r\n    }\r\n    draw(geon) {\r\n        // draw cursor\r\n        geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        // draw points\r\n        geon.r.points(this.dt.getVertices());\r\n        if (this.switch == 0) {\r\n            // draw delaunay triangulation\r\n            geon.r.lineSegments(this.dt.getEdges());\r\n        }\r\n        else if (this.switch == 1) {\r\n            // draw voronoi diagram\r\n            geon.r.lineSegments(this.dt.getVoronoiEdges(true));\r\n        }\r\n        else if (this.switch == 2) {\r\n            //draw circumcircles\r\n            this.dt.calculateCC();\r\n            let data = this.dt.getCC();\r\n            geon.r.circles(data.cc, data.r);\r\n        }\r\n    }\r\n    // ...\r\n    add(v) {\r\n        // simulate impact\r\n        this.dt.Insert(v);\r\n        // original points\r\n        this.p = this.dt.getVertices().map(e => {\r\n            return e.clone();\r\n        });\r\n        this.disturb(v, 20, 800);\r\n    }\r\n    pull(v) {\r\n        // displace dt \r\n        // this.dt.getVertices().forEach(e => {\r\n        //     e.add(Vector2.fromRandomAngle().scale(Math.min(10, 500 / e.disTo(v))))\r\n        // })\r\n        // displace dt \r\n        let vertices = this.dt.getVertices();\r\n        for (let i = 0; i < vertices.length; i++) {\r\n            let e = vertices[i];\r\n            let target = this.p[i];\r\n            let difference = Vector2.from2Pt(v, target);\r\n            let length = difference.length();\r\n            if (length < 5)\r\n                continue;\r\n            e.add(difference.normalize().scale(Math.min(1, 500 / length)));\r\n        }\r\n    }\r\n    disturb(v, strength, range) {\r\n        // displace dt \r\n        this.dt.getVertices().forEach(e => {\r\n            e.add(Vector2.fromRandomAngle().scale(Math.min(strength, range / e.disTo(v))));\r\n        });\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\n\r\n\r\n\r\nconst programs = [\r\n    BounceBallsProgram,\r\n    DelaunayProgram\r\n];\r\nconst meta = new SelectorMetaProgram(programs);\r\nconst canvas = document.getElementById("canvas");\r\nconst geon = new Geon(canvas);\r\ngeon.loadMeta(meta); // program selector\r\ngeon.load(new BounceBallsProgram()); // first program to load \r\nconsole.log("everything loaded.");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLy4vc3JjL21hdGgvVmVjdG9yMi50cz9hY2VkIiwid2VicGFjazovL2dlb24vLi9zcmMvMkQvUmVuZGVyZXIyLnRzPzBiNzgiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9HZW9uLnRzP2E3NGQiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Qcm9ncmFtLnRzPzFiMWIiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9TZWxlY3Rvck1ldGFQcm9ncmFtLnRzPzlmYTgiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Cb3VuY2VCYWxsc1Byb2dyYW0udHM/NjhlMCIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL2dlbzIvRGVsYXVuYXkudHM/YzE1OSIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL3Byb2dyYW1zL1Byb2dyYW1IZWxwZXJzLnRzPzhlMTQiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9EZWxhdW5heVByb2dyYW0udHM/MThhYyIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL2luZGV4LnRzP2ZmYjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1QkFBdUI7QUFDdkIsNEJBQTRCO0FBQzVCLGlGQUFpRjtBQUNqRiwyQkFBMkI7QUFFcEIsTUFBTSxPQUFPO0lBSWhCLFlBQVksQ0FBVSxFQUFFLENBQVU7UUFFOUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNmLENBQUM7SUFFSixnQ0FBZ0M7SUFFaEMsTUFBTSxDQUFDLFFBQVEsQ0FBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEtBQVk7UUFFcEQsT0FBTyxJQUFJLE9BQU8sQ0FDakIsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBRSxHQUFHLEtBQUssRUFDOUIsRUFBRSxDQUFDLENBQUMsR0FBRyxD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QUFDO0FBQ3ZFLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBYSxtQkFBbUI7QUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDLHlCQUF5QjtBQUc5RCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUMiLCJmaWxlIjoiNjc5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXV0aG9yOiBKb3MgRmVlbnN0cmFcclxuLy8gaW5zcGlyYXRpb24gZnJvbSBUaHJlZS5qc1xyXG4vLyBub3RlOiByZWN5Y2xlIHRoZSBjbGFzcyBhcyBtdWNoIGFzIHBvc3NibGUsIGJ1aWxkaW5nIGEgbmV3IGNsYXNzIGlzIGV4cGVuc2l2ZSxcclxuLy8gZXNwZWNpYWxseSBpbiBqYXZhc2NyaXB0XHJcblxyXG5leHBvcnQgY2xhc3MgVmVjdG9yMlxyXG57XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcih4IDogbnVtYmVyLCB5IDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuXHJcblx0Ly8gLS0tIGZhY3RvcmllcyAmIG90aGVyIHN0YXRpY3NcclxuXHJcblx0c3RhdGljIGZyb21MZXJwKCB2MTpWZWN0b3IyLCB2MjpWZWN0b3IyLCBhbHBoYTpudW1iZXIgKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IyKFxyXG5cdFx0XHR2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGEsXHJcblx0XHRcdHYxLnkgKyAoIHYyLnkgLSB2MS55ICkgKiBhbHBoYVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG4gICAgc3RhdGljIGZyb21SYW5kb20oKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHQgICAgTWF0aC5yYW5kb20oKSxcclxuXHRcdCAgICBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbVJhbmRvbUFuZ2xlKCkgOiBWZWN0b3IyXHJcbiAgICB7XHJcblx0XHRsZXQgYWxwaGEgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcblx0XHRcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdE1hdGguY29zKGFscGhhKSxcclxuXHRcdFx0TWF0aC5zaW4oYWxwaGEpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGZyb20yUHQoZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdFx0ZnJvbS54IC0gdG8ueCxcclxuXHRcdFx0ZnJvbS55IC0gdG8ueVxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGZyb21Db3B5KG90aGVyOiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy56ZXJvKCkuY29weShvdGhlcik7XHRcclxuXHR9XHJcblxyXG5cdHN0YXRpYyB6ZXJvKCkgeyByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7IH1cclxuXHJcblxyXG5cdHN0YXRpYyBOYU4oKSB7IHJldHVybiBuZXcgVmVjdG9yMihOYU4sIE5hTik7IH1cclxuXHJcblx0c3RhdGljIGZyb21DaXJjdW1jZW50ZXIoYTogVmVjdG9yMiwgYjogVmVjdG9yMiwgYzogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgYXN1bSA9IGEuc3F1YXJlU3VtKCk7XHJcbiAgICAgICAgY29uc3QgYnN1bSA9IGIuc3F1YXJlU3VtKCk7XHJcbiAgICAgICAgY29uc3QgY3N1bSA9IGMuc3F1YXJlU3VtKCk7XHJcblxyXG4gICAgICAgIC8vIHNvcnQgb2YgY3Jvc3MgcHJvZHVjdFxyXG4gICAgICAgIGxldCBkID0gMiAqIChhLnggKiAoYi55IC0gYy55KSArXHJcbiAgICAgICAgICAgICAgICAgICAgIGIueCAqIChjLnkgLSBhLnkpICsgXHJcbiAgICAgICAgICAgICAgICAgICAgIGMueCAqIChhLnkgLSBiLnkpKTtcclxuXHJcbiAgICAgICAgLy8gaWYgdGhpcyB0cmlhbmdsZSBoYXMgbm8gY2lyY3VtY2VudGVyPyBcclxuICAgICAgICBpZiAoZCA8IDAuMDAwMDAxKVxyXG5cdFx0XHRyZXR1cm4gVmVjdG9yMi5OYU4oKTsgXHJcblxyXG5cdFx0bGV0IHggPSAoYXN1bSAqIChiLnkgLSBjLnkpICsgXHJcblx0XHRcdFx0IGJzdW0gKiAoYy55IC0gYS55KSArIFxyXG5cdFx0XHRcdCBjc3VtICogKGEueSAtIGIueSkpIC8gZDtcclxuXHRcdGxldCB5ID0gKGFzdW0gKiAoYy54IC0gYi54KSArIFxyXG5cdFx0XHRcdCBic3VtICogKGEueCAtIGMueCkgKyBcclxuXHRcdFx0XHQgY3N1bSAqIChiLnggLSBhLngpKSAvIGQ7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih4LHkpO1xyXG4gICAgfVxyXG5cclxuXHRzdGF0aWMgZ2V0U2lnbihhOlZlY3RvcjIsIGI6VmVjdG9yMiAsIGM6VmVjdG9yMikgOiBudW1iZXJcclxuXHR7XHJcblx0XHQvLyB0ZXN0IGhhbGYgcGxhbmUgcmVsYXRpb25zaGlwXHJcblx0XHQvLyA8MCA6IHBvaW50IG9uIGZpcnN0IGhhbGZcclxuXHRcdC8vIDAgIDogcG9pbnRzIGNvbGxpbmVhclxyXG5cdFx0Ly8gPjAgOiBwb2ludCBvbiBzZWNvbmQgaGFsZiBcclxuXHRcdHJldHVybiAoYS54IC0gYy54KSAqIChiLnkgLSBjLnkpIC0gXHJcblx0XHQgICAgICAgKGIueCAtIGMueCkgKiAoYS55IC0gYy55KTtcclxuXHR9XHJcblxyXG5cdC8vIC0tLSBiYXNpY3NcclxuXHJcblx0c2V0KHg6bnVtYmVyLCB5Om51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0dGhpcy54ID0geDtcclxuXHRcdHRoaXMueSA9IHk7XHJcblx0XHRyZXR1cm4gdGhpcyBcdFx0XHJcblx0fVxyXG5cclxuXHRyb3VnaGx5RXF1YWxzKHY6IFZlY3RvcjIsIHRvbDpudW1iZXIpIDogYm9vbGVhblxyXG5cdHtcclxuXHRcdHJldHVybiAoTWF0aC5hYnModGhpcy54IC0gdi54KSA8IHRvbCAmJiBcclxuXHRcdFx0XHRNYXRoLmFicyh0aGlzLnkgLSB2LnkpIDwgdG9sKVxyXG5cdH1cclxuXHJcblx0ZXF1YWxzKHY6VmVjdG9yMikgOiBib29sZWFuXHJcblx0e1xyXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSApO1xyXG5cdH1cclxuXHJcbiAgICB0b1N0cmluZygpIDogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGBWZWN0b3IzKCR7dGhpcy54fSwgJHt0aGlzLnl9KWA7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvcHkodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ID0gdi54O1xyXG4gICAgICAgIHRoaXMueSA9IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblx0Ly8gLS0tIG1hdGhcclxuXHJcbiAgICBhZGQodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ICs9IHYueDtcclxuICAgICAgICB0aGlzLnkgKz0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN1Yih2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggLT0gdi54O1xyXG4gICAgICAgIHRoaXMueSAtPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG11bCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggKj0gdi54O1xyXG4gICAgICAgIHRoaXMueSAqPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2NhbGUodjogbnVtYmVyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggKj0gdjtcclxuICAgICAgICB0aGlzLnkgKj0gdjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBkaXYodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54IC89IHYueDtcclxuICAgICAgICB0aGlzLnkgLz0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdnNjYWxlKHY6IG51bWJlcikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54IC89IHY7XHJcbiAgICAgICAgdGhpcy55IC89IHY7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbWluKG90aGVyOiBWZWN0b3IyKSA6IFZlY3RvcjIgXHJcbiAgICB7XHJcblx0XHR0aGlzLnggPSBNYXRoLm1pbiggdGhpcy54LCBvdGhlci54ICk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1pbiggdGhpcy55LCBvdGhlci55ICk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdG1heChvdGhlcjogVmVjdG9yMikgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIG90aGVyLnggKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIG90aGVyLnkgKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0Y2xhbXAobWluOiBWZWN0b3IyLCBtYXg6IFZlY3RvcjIpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHQvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZVxyXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdGhpcy55KSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdGNsYW1wU2NhbGFyKG1pblZhbDpudW1iZXIsIG1heFZhbDpudW1iZXIpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbihtYXhWYWwsIHRoaXMueCkpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4obWF4VmFsLCB0aGlzLnkpKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0Y2xhbXBMZW5ndGgobWluOm51bWJlciwgbWF4Om51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0Y29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcclxuXHRcdHJldHVybiB0aGlzLmRpdnNjYWxlKCBsZW5ndGggfHwgMSApLnNjYWxlKCBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbGVuZ3RoKSkpO1xyXG5cdH1cclxuXHJcblx0Zmxvb3IoKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRjZWlsKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJvdW5kKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0cm91bmRUb1plcm8oKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gKHRoaXMueCA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xyXG5cdFx0dGhpcy55ID0gKHRoaXMueSA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRuZWdhdGUoKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XHJcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0ZG90KCB2OlZlY3RvcjIgKSA6IG51bWJlciBcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xyXG5cdH1cclxuXHJcblx0Y3Jvc3MoIHY6VmVjdG9yMiApIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueSAtIHRoaXMueSAqIHYueDsgLy8gPz8/P1xyXG5cdH1cclxuXHJcblx0c3F1YXJlU3VtKCkgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG5cdH1cclxuXHJcblx0bGVuZ3RoKCkgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcblx0fVxyXG5cclxuXHRtYW5oYXQoKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54ICkgKyBNYXRoLmFicyggdGhpcy55ICk7XHJcblx0fVxyXG5cclxuXHRub3JtYWxpemUoKSA6IFZlY3RvcjJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXZzY2FsZSggdGhpcy5sZW5ndGgoKSB8fCAxICk7XHJcblx0fVxyXG5cclxuXHRhbmdsZSgpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0Ly8gY29tcHV0ZXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgd2l0aCByZXNwZWN0IHRvIHRoZSBwb3NpdGl2ZSB4LWF4aXNcclxuXHRcdGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMiggLSB0aGlzLnksIC0gdGhpcy54ICkgKyBNYXRoLlBJO1xyXG5cdFx0cmV0dXJuIGFuZ2xlO1xyXG5cclxuXHR9XHJcblxyXG5cdGRpc1RvKHY6IFZlY3RvcjIpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc1RvU3F1YXJlZCh2KSk7XHJcblx0fVxyXG5cclxuXHRkaXNUb1NxdWFyZWQodjogVmVjdG9yMikgOiBudW1iZXJcclxuXHR7XHJcblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgXHJcblx0XHRcdCAgZHkgPSB0aGlzLnkgLSB2Lnk7XHJcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XHJcblx0fVxyXG5cclxuXHRkaXNUb01hbmhhdCh2OiBWZWN0b3IyKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLmFicyh0aGlzLnggLSB2LngpICsgTWF0aC5hYnModGhpcy55IC0gdi55KTtcclxuXHR9XHJcblxyXG5cdHNldExlbmd0aChsZW5ndGg6IG51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkuc2NhbGUobGVuZ3RoKTtcclxuXHR9XHJcblxyXG5cdGxlcnAob3RoZXI6IFZlY3RvcjIsIGFscGhhOm51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0dGhpcy54ICs9ICggb3RoZXIueCAtIHRoaXMueCApICogYWxwaGE7XHJcblx0XHR0aGlzLnkgKz0gKCBvdGhlci55IC0gdGhpcy55ICkgKiBhbHBoYTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufSIsIi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXHJcblxyXG5pbXBvcnQgeyBMaW5lMiB9IGZyb20gXCIuLi9nZW8yL2xpbmUyXCI7XHJcbmltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuLy8gb25seSByZW5kZXJlciB0YWxrcyB0byBjdHggJiBjYW52YXMuXHJcbi8vIGRvIGFsbCB0aGUgY2FtZXJhIHdvcmsgaW4gaGVyZVxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIyXHJcbntcclxuICAgIHB1YmxpYyBvZmZzZXQ6IFZlY3RvcjI7XHJcbiAgICBwdWJsaWMgc2NhbGU6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBnZW9uOiBHZW9uO1xyXG5cclxuICAgIC8vIHZpc3VhbHNcclxuICAgIHB1YmxpYyBzbG93ZmFkZSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBwb2ludHNpemUgPSA1O1xyXG4gICAgcHJpdmF0ZSBwb2ludGNvbG9yID0gXCIjZmZmZmZmXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBsaW5lY29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgIHByaXZhdGUgZmlsbGNvbG9yID0gXCIjNjY2NjY2XCI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLmdlb24gPSBnZW9uO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBWZWN0b3IyLnplcm8oKTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLnBvaW50Y29sb3I7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmxpbmVjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2xvd2ZhZGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IFZlY3RvcjIuemVybygpO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSAxO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMucG9pbnRjb2xvcjtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMubGluZWNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE8gZml4IHRoaXMgb25jZSBpIGJ1aWxkIG1hdHJpY2VzXHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseU9mZnNldCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdi5jbG9uZSgpLmFkZCh0aGlzLm9mZnNldCkuc2NhbGUodGhpcy5zY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJldmVydE9mZnNldCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdi5jbG9uZSgpLnNjYWxlKDEgLyB0aGlzLnNjYWxlKS5zdWIodGhpcy5vZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgY2xlYXJzIHdpdGggYSB0cmFuc3BhcmFudCBsYXllciwgZm9yIGVhc3kgZGVsYXllZCBlZmZlY3RcclxuICAgIGNsZWFyRmFkZShhbHBoYTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGFkanVzdCBjb2xvciBzZXR0aW5nc1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jdHguZmlsbFN0eWxlO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiIzAwMDAwMGZmXCI7XHJcbiAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSBhbHBoYTsgIFxyXG5cclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmdlb24ud2lkdGgsIHRoaXMuZ2Vvbi5oZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyByZXNldCBjb2xvciBzZXR0aW5ncyBcclxuICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IDE7ICBcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd2ZhZGUpXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJGYWRlKDAuMSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5nZW9uLndpZHRoLCB0aGlzLmdlb24uaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludCh4OiBudW1iZXIsIHk6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyB0b2RvIGNhbWVyYVxyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuXHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguYXJjKHgsIHksIHRoaXMucG9pbnRzaXplLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludHMocG9pbnRzOiBWZWN0b3IyW10pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gVE9ETyBkb250IGRyYXcgaWYgb2ZmIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5hcHBseU9mZnNldChwb2ludHNbaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5hcmModi54LCB2LnksIHRoaXMucG9pbnRzaXplLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgfSAgICBcclxuICAgIH1cclxuXHJcbiAgICBsaW5lKGxpbmU6IExpbmUyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuXHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGxpbmUuZnJvbS54LCBsaW5lLmZyb20ueSk7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGxpbmUudG8ueCwgbGluZS50by55KTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBsaW5lU2VnbWVudHModmVydGljZXM6IFZlY3RvcjJbXSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSArPSAyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGlpID0gaSArIDE7XHJcbiAgICAgICAgICAgIGxldCB2MSA9IHRoaXMuYXBwbHlPZmZzZXQodmVydGljZXNbaV0pO1xyXG4gICAgICAgICAgICBsZXQgdjIgPSB0aGlzLmFwcGx5T2Zmc2V0KHZlcnRpY2VzW2lpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh2MS54LCB2MS55KTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKHYyLngsIHYyLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaXJjbGVzKHBvaW50czogVmVjdG9yMltdLCByYWRpaTogbnVtYmVyW10pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gVE9ETyBkb250IGRyYXcgaWYgb2ZmIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5hcHBseU9mZnNldChwb2ludHNbaV0pO1xyXG4gICAgICAgICAgICBsZXQgciA9IHJhZGlpW2ldICogdGhpcy5zY2FsZTtcclxuICAgICAgICAgICAgdGhpcy5jdHguYXJjKHYueCwgdi55LCByLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgICAgICB9IFxyXG4gICAgfSBcclxuXHJcbiAgICB0ZXh0KG1lc3NhZ2U6IHN0cmluZywgcG9zOiBWZWN0b3IyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3R4LmZvbnQgPSAnMTRweCBcIkx1Y2lkYSBDb25zb2xlXCIsIE1vbmFjbywgbW9ub3NwYWNlJztcclxuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChtZXNzYWdlLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY3RhbmdsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvbHlnb24oKSBcclxuICAgIHtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJlcjIgfSBmcm9tICcuLzJEL1JlbmRlcmVyMic7XHJcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tICcuL3Byb2dyYW1zL1Byb2dyYW0nO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi9tYXRoL1ZlY3RvcjInO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9tYXRoL1ZlY3RvcjMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdlb25cclxue1xyXG4gICAgcHJvZ3JhbT86IFByb2dyYW07XHJcbiAgICBtZXRhPzogUHJvZ3JhbTtcclxuICAgIGxvb3Bpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICB0aWNrOiBudW1iZXI7XHJcbiAgICBvbGRUaW1lOiBudW1iZXI7XHJcbiAgICBuZXdUaW1lOiBudW1iZXI7XHJcbiAgICBcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGJvdW5kczogVmVjdG9yMjtcclxuXHJcbiAgICBwcml2YXRlIGtleXNEb3duOiBJS2V5cyA9IHt9O1xyXG4gICAgcHJpdmF0ZSBrZXlzUHJlc3NlZDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBtb3VzZTogVmVjdG9yMiA9IFZlY3RvcjIuemVybygpO1xyXG4gICAgd29ybGRNb3VzZTogVmVjdG9yMiA9IFZlY3RvcjIuemVybygpO1xyXG4gICAgbW91c2VMZWZ0RG93bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbW91c2VMZWZ0UHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtb3VzZUxlZnRQcmV2OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgbW91c2VSaWdodERvd246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIG1vdXNlUmlnaHRQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG1vdXNlUmlnaHRQcmV2OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgbW91c2VNaWRkbGVEb3duOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBtb3VzZU1pZGRsZVByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbW91c2VNaWRkbGVQcmV2OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcjogUmVuZGVyZXIyXHJcblxyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gd2luZG93XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gbmV3IFZlY3RvcjIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXHJcbiAgICAgICAgdGhpcy5zZXRXaW5kb3coKTtcclxuICAgICAgICAvLyB3aW5kb3cub25yZXNpemUgPSB0aGlzLnNldFdpbmRvdztcclxuXHJcbiAgICAgICAgLy8gcmVuZGVyaW5nXHJcbiAgICAgICAgdGhpcy5yID0gbmV3IFJlbmRlcmVyMihjYW52YXMsIHRoaXMpOyAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdGltZVxyXG4gICAgICAgIHRoaXMudGljayA9IDA7XHJcbiAgICAgICAgdGhpcy5vbGRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLm5ld1RpbWUgPSB0aGlzLm9sZFRpbWU7XHJcblxyXG4gICAgICAgIC8vIG1vdXNlXHJcbiAgICAgICAgY2FudmFzLm9ubW91c2Vtb3ZlID0gdGhpcy5zZXRNb3VzZVBvcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNhbnZhcy5vbm1vdXNlZG93biA9IHRoaXMuc2V0TW91c2VEb3duLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY2FudmFzLm9ubW91c2V1cCA9IHRoaXMuc2V0TW91c2VVcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNhbnZhcy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oZSkgeyBcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGtleWJvYXJkXHJcbiAgICAgICAgY2FudmFzLm9ua2V5ZG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY2FudmFzLm9ua2V5cHJlc3MgPSB0aGlzLm9uS2V5UHJlc3NlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNhbnZhcy5vbmtleXVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAyMjMgO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5c0Rvd25baV0gPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhbnZhcy5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLlxyXG5cclxuICAgIHB1YmxpYyBsb2FkKGdhbWU6IFByb2dyYW0pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gZ2FtZTtcclxuICAgICAgICBnYW1lLnN0YXJ0KHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubG9vcGluZylcclxuICAgICAgICAgICAgdGhpcy5sb29wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRNZXRhKHByb2dyYW06IFByb2dyYW0pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tZXRhID0gcHJvZ3JhbTtcclxuICAgICAgICBwcm9ncmFtLnN0YXJ0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJc0tleURvd24oa2V5OiBzdHJpbmcpIDogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNEb3duW2tleV07ICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSXNLZXlQcmVzc2VkKGtleTogc3RyaW5nKSA6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzUHJlc3NlZC5pbmNsdWRlcyhrZXkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgb25LZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpXHJcbiAgICB7IFxyXG4gICAgICAgIGlmICh0aGlzLmtleXNEb3duW2Uua2V5XSA9PSB0cnVlKSByZXR1cm47XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5rZXkpO1xyXG4gICAgICAgIHRoaXMua2V5c0Rvd25bZS5rZXkudG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMua2V5c1ByZXNzZWQucHVzaChlLmtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uS2V5VXAoZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmtleXNEb3duW2Uua2V5LnRvTG93ZXJDYXNlKCldID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uS2V5UHJlc3NlZChlOiBLZXlib2FyZEV2ZW50KVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi5cclxuXHJcbiAgICBwcml2YXRlIGxvb3AoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubG9vcGluZyA9IHRydWU7XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcCh0aGlzOiBHZW9uKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aW1lXHJcbiAgICAgICAgICAgIHRoaXMubmV3VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMudGljayA9ICh0aGlzLm5ld1RpbWUgLSB0aGlzLm9sZFRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLm9sZFRpbWUgPSB0aGlzLm5ld1RpbWU7XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgbW91c2VcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnRQcmVzc2VkID0gICh0aGlzLm1vdXNlTGVmdFByZXYgIT0gdGhpcy5tb3VzZUxlZnREb3duKSAmJiB0aGlzLm1vdXNlTGVmdERvd247XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodFByZXNzZWQgPSAgKHRoaXMubW91c2VSaWdodFByZXYgIT0gdGhpcy5tb3VzZVJpZ2h0RG93bikgJiYgdGhpcy5tb3VzZVJpZ2h0RG93bjtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZVByZXNzZWQgPSAgKHRoaXMubW91c2VNaWRkbGVQcmV2ICE9IHRoaXMubW91c2VNaWRkbGVEb3duKSAmJiB0aGlzLm1vdXNlTWlkZGxlRG93bjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0UHJldiA9IHRoaXMubW91c2VMZWZ0RG93blxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlUmlnaHRQcmV2ID0gdGhpcy5tb3VzZVJpZ2h0RG93blxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlUHJldiA9IHRoaXMubW91c2VNaWRkbGVEb3duXHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPIDogZG9udCB1cGRhdGUgaWYgbm90aGluZyBtb3ZlZCAoPylcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmFtIS51cGRhdGUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnIuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmFtIS5kcmF3KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gdXBkYXRlIG1ldGFwcm9ncmFtIGFmdGVyd2FyZHNcclxuICAgICAgICAgICAgdGhpcy5tZXRhPy51cGRhdGUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubWV0YT8uZHJhdyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlZnJlc2gga2V5cHJlc3Nlc1xyXG4gICAgICAgICAgICB0aGlzLmtleXNQcmVzc2VkID0gW107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBnYW1lIGxvb3BcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXAuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRNb3VzZVBvcyhlOiBNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIC8vIHRoaXMgaXMgYSBiaXQgbWVzc3ksIEJVVCwgbXVsdGlwbHkgYnkgY2FtZXJhIHBhcmFtZXRlcnNcclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFZlY3RvcjIoZS5jbGllbnRYLCBlLmNsaWVudFkpXHJcbiAgICAgICAgdGhpcy53b3JsZE1vdXNlID0gdGhpcy5yLnJldmVydE9mZnNldCh0aGlzLm1vdXNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlVXAoZTogTW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICBsZXQgY29kZSA9IGUuYnV0dG9ucztcclxuICAgICAgICBpZiAoY29kZSA8IDQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZURvd24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPCAyKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodERvd24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPCAxKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0RG93biA9IGZhbHNlO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRNb3VzZURvd24oZTogTW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBsZXQgY29kZSA9IGUuYnV0dG9ucztcclxuICAgICAgICBpZiAoY29kZSA+PSA0KSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvZGUgLT0gNDtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZURvd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA+PSAyKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvZGUgLT0gMjtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVJpZ2h0RG93biA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlID49IDEpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZSAtPSAxO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTGVmdERvd24gPSB0cnVlO1xyXG4gICAgICAgIH0gIFxyXG4gICAgICAgIHJldHVybiBmYWxzZTsgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0V2luZG93KClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNldHRpbmcgd2luZG93Li4uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggID0gdGhpcy5jYW52YXMud2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0ICsgXCJweFwiO1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBuZXcgVmVjdG9yMih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUtleXMgXHJcbntcclxuICAgIFtrZXk6IHN0cmluZ10gOiBib29sZWFuXHJcbn0iLCJpbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4uL0dlb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmFtXHJcbntcclxuICAgIHRpdGxlID0gXCJcIjtcclxuICAgIGRlc2NyaXB0aW9uID0gXCJcIjtcclxuXHJcbiAgICBzdGFydChnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIC8vICBpbml0IGdlb21ldHJ5IFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHVwZGF0ZSBnZW9tZXRyeVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBkcmF3IGdlb21ldHJ5XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdChnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGRlYWxsb2NhdGUgPyBjbGVhbj9cclxuICAgIH1cclxufVxyXG5cclxuLy8ganVzdCBhIGZsYWcgZm9yIG5vd1xyXG5leHBvcnQgY2xhc3MgTWV0YVByb2dyYW0gZXh0ZW5kcyBQcm9ncmFtXHJcbntcclxuXHJcbn0iLCJpbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4uL0dlb25cIjtcclxuaW1wb3J0IHsgTWV0YVByb2dyYW0sIFByb2dyYW0gfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IyXCI7XHJcbmltcG9ydCB7IExpbmUyIH0gZnJvbSBcIi4uL2dlbzIvbGluZTJcIjtcclxuXHJcbi8vIG1ldGFwcm9ncmFtXHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0b3JNZXRhUHJvZ3JhbSBleHRlbmRzIE1ldGFQcm9ncmFtXHJcbntcclxuICAgIHByb2dyYW1zOiBhbnlbXTtcclxuICAgIGN1cnJlbnQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgaXNBbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGFuaW1hdGlvbkNvdW50ZXIgPSAxO1xyXG4gICAgY29tZWJhY2sgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9ncmFtczogYW55W10pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW1zID0gcHJvZ3JhbXM7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbXMubGVuZ3RoID09IDApIHRocm93IFwiTmVlZCBhdCBsZWFzdCAxIHByb2dyYW0hXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnByb2dyYW1zW3RoaXMuY3VycmVudF1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBsaXN0ZW4gZm9yIGtleXByZXNzZXMgXHJcbiAgICAgICAgLy8gc3R1cGlkIGkga25vdy4gTW9yZSBzcGVjaWZpYyBsaXN0ZW5pbmcgd291bGQgYmUgYmV0dGVyLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTA7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZChpLnRvU3RyaW5nKCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmVTd2FwUHJvZ3JhbShpIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZHJhdyBpbnN0cnVjdGlvbnMgXHJcbiAgICAgICAgaWYgKGdlb24ucHJvZ3JhbSAhPSBudWxsKSBcclxuICAgICAgICAgICAgZ2Vvbi5yLnRleHQoZ2Vvbi5wcm9ncmFtLnRpdGxlLCBuZXcgVmVjdG9yMigxMCwgMjApKTtcclxuICAgICAgICBnZW9uLnIudGV4dChcInRhYiB1c2luZyBbMV0gLSBbMl1cIiwgbmV3IFZlY3RvcjIoMTAsIDUwKSk7XHJcbiAgICAgICAgZ2Vvbi5yLnRleHQoXCJ1c2UgbGVmdCBhbmQgcmlnaHQgbW91c2UgYnV0dG9uIHRvIGludGVyYWN0XCIsIG5ldyBWZWN0b3IyKDEwLCA4MCkpO1xyXG4gICAgICAgIGlmIChnZW9uLnByb2dyYW0gIT0gbnVsbCkgXHJcbiAgICAgICAgICAgIGdlb24uci50ZXh0KGdlb24ucHJvZ3JhbS5kZXNjcmlwdGlvbiwgbmV3IFZlY3RvcjIoMTAsIDExMCkpO1xyXG5cclxuICAgICAgICAvLyBkcmF3IHRyYW5zaXRpb25zXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAwLjAxNTtcclxuICAgICAgICBpZiAodGhpcy5pc0FuaW1hdGluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkNvdW50ZXIgPiAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2Vvbi5yLmNsZWFyRmFkZSgxIC0gdGhpcy5hbmltYXRpb25Db3VudGVyKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uQ291bnRlciA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbWViYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQ291bnRlciArPSBzcGVlZDtcclxuICAgICAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Db3VudGVyIC09IHNwZWVkO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQ291bnRlciArPSAwLjAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21lYmFjayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN3YXBQcm9ncmFtKGdlb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVTd2FwUHJvZ3JhbShudW06IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAobnVtIDwgMCB8fCBudW0gPj0gdGhpcy5wcm9ncmFtcy5sZW5ndGgpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBwcm9ncmFtIFtcIiArIG51bS50b1N0cmluZygpICsgXCJdLlwiKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN3YXBwaW5nIHRvIHByb2dyYW0gXCIgKyBudW0udG9TdHJpbmcoKSk7ICBcclxuXHJcbiAgICAgICAgLy8gcHJlcGFyZSBmb3IgYW5pbWF0aW9uXHJcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVtO1xyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY29tZWJhY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ZXIgPSAxO1xyXG5cclxuICAgICAgICAvLyBsb2FkXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIGZhZGUgaW5cclxuICAgIH1cclxuXHJcbiAgICBzd2FwUHJvZ3JhbShnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIGdlb24ubG9hZChuZXcgdGhpcy5wcm9ncmFtc1t0aGlzLmN1cnJlbnRdKCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQm91bmNlQmFsbHNQcm9ncmFtIGV4dGVuZHMgUHJvZ3JhbVxyXG57XHJcbiAgICBwb2ludHM6IFZlY3RvcjJbXSA9IFtdO1xyXG4gICAgdmVjdG9yczogVmVjdG9yMltdID0gW107XHJcblxyXG4gICAgY291bnQgPSAxMDA7XHJcbiAgICBzcGVlZCA9IDI7XHJcblxyXG4gICAgdGl0bGUgPSAnYm91bmNlX2JhbGxzJztcclxuICAgIGRlc2NyaXB0aW9uID0gXCJwcmVzcyB2IHRvIHR1cm4gdHJhaWxzIG9mZlwiO1xyXG5cclxuICAgIHN0YXJ0KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgZ2Vvbi5yLnNsb3dmYWRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBBcnJheSh0aGlzLmNvdW50KTtcclxuICAgICAgICB0aGlzLnZlY3RvcnMgPSBuZXcgQXJyYXkodGhpcy5jb3VudCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wb2ludHNbaV0gPSBWZWN0b3IyLmZyb21SYW5kb20oKS5tdWwoZ2Vvbi5ib3VuZHMpO1xyXG4gICAgICAgICAgICB0aGlzLnZlY3RvcnNbaV0gPSBWZWN0b3IyLmZyb21SYW5kb20oKS5zdWIobmV3IFZlY3RvcjIoMC41LCAwLjUpKS5ub3JtYWxpemUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlZCBhIGJ1bmNoIG9mIHBvaW50c1wiKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLmNvdW50OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHRoaXMucG9pbnRzW2ldOyBcclxuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLnZlY3RvcnNbaV1cclxuXHJcbiAgICAgICAgICAgIGlmIChnZW9uLm1vdXNlTGVmdERvd24pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIGRpc3J1cHQgdGhlIHZlY3RvciwgYmFzZWQgb24gaG93IGNsb3NlYnkgdGhlIG1vdXNlIGlzXHJcbiAgICAgICAgICAgICAgICBsZXQgZGlyID0gVmVjdG9yMi5mcm9tMlB0KHAsIGdlb24ubW91c2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRpci5sZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIGRpci5ub3JtYWxpemUoKS5zY2FsZShNYXRoLm1pbig0LCAxMDAgLyBsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgIHYuYWRkKGRpcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHAuYWRkKHYpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHYubGVuZ3RoKClcclxuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IHRoaXMuc3BlZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHYuc2V0TGVuZ3RoKGxlbmd0aCAqIDAuOTkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBib3VuY2UgYXQgZWRnZVxyXG4gICAgICAgICAgICBpZiAocC54IDwgMCB8fCBwLnggPiBnZW9uLmJvdW5kcy54KSB2LnggPSAtdi54O1xyXG4gICAgICAgICAgICBpZiAocC55IDwgMCB8fCBwLnkgPiBnZW9uLmJvdW5kcy55KSB2LnkgPSAtdi55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaWYgbW91c2UgaXMgbmVhcmJ5LCBtb3ZlIGF3YXkgZnJvbSBpdFxyXG4gICAgICAgIGlmIChnZW9uLm1vdXNlUmlnaHRQcmVzc2VkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50cy5wdXNoKFZlY3RvcjIuZnJvbVJhbmRvbSgpLm11bChnZW9uLmJvdW5kcykpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52ZWN0b3JzLnB1c2goVmVjdG9yMi5mcm9tUmFuZG9tKCkuc3ViKG5ldyBWZWN0b3IyKDAuNSwgMC41KSkubm9ybWFsaXplKCkpO1xyXG4gICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlQcmVzc2VkKCd2JykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRhYlwiKTtcclxuICAgICAgICAgICAgZ2Vvbi5yLnNsb3dmYWRlID0gIWdlb24uci5zbG93ZmFkZTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZ2VvbjogR2VvbilcclxuICAgIHsgXHJcbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwID0+IGdlb24uci5wb2ludChwLngsIHAueSkpO1xyXG5cclxuICAgICAgICAvLyBkcmF3IGF0IG1vdXNlIHBvc2l0aW9uO1xyXG4gICAgICAgIGlmIChnZW9uLm1vdXNlTGVmdERvd24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZW9uLnIucG9pbnQoZ2Vvbi5tb3VzZS54LCBnZW9uLm1vdXNlLnkpO1xyXG4gICAgICAgIH0gIFxyXG4gICAgfVxyXG59IiwiLy8gYXV0aG9yIDogSm9zIEZlZW5zdHJhXHJcbi8vIFRPRE86IGV4dGVuZCBmcm9tIGEgZ2VuZXJpYyB0cmlhbmd1bGF0aW9uPyBtaWdodCBiZSBuaWNlIHRvIGhhdmVcclxuXHJcbmltcG9ydCB7IExpbmUyIH0gZnJvbSBcIi4vbGluZTJcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEZWxhdW5heSBcclxue1xyXG4gICAgcHJpdmF0ZSBwdHM6IFZlY3RvcjJbXTtcclxuICAgIHByaXZhdGUgdHJzOiBudW1iZXJbXVtdOyAvLyBJIFdBTlQgSU5URUdFUlMhXHJcblxyXG4gICAgcHJpdmF0ZSBjYzogVmVjdG9yMltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnB0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudHJzID0gW107XHJcbiAgICAgICAgdGhpcy5jYyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBpbml0IGJpZyBiYXNlIHRyaWFuZ2xlXHJcbiAgICAgICAgdGhpcy5wdHMucHVzaChuZXcgVmVjdG9yMigtMTAwMDAsLTEwMDAwKSk7XHJcbiAgICAgICAgdGhpcy5wdHMucHVzaChuZXcgVmVjdG9yMigxMDAwMCwtMTAwMDApKTtcclxuICAgICAgICB0aGlzLnB0cy5wdXNoKG5ldyBWZWN0b3IyKDAsIDEwMDAwKSk7XHJcbiAgICAgICAgdGhpcy50cnMucHVzaChbMCwgMSwgMiwgLTEsIC0xICwgLTFdKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi4gR2V0dGVycyBcclxuXHJcbiAgICBwdWJsaWMgZ2V0VmVydGljZXMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnB0cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RWRnZXMoKSA6IFZlY3RvcjJbXVxyXG4gICAge1xyXG4gICAgICAgIGxldCBlZGdlczogVmVjdG9yMltdID0gW107XHJcblxyXG4gICAgICAgIGZvcihsZXQgdHIgb2YgdGhpcy50cnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgYSA9IHRoaXMucHRzW3RyWzBdXTtcclxuICAgICAgICAgICAgbGV0IGIgPSB0aGlzLnB0c1t0clsxXV07XHJcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5wdHNbdHJbMl1dO1xyXG5cclxuICAgICAgICAgICAgZWRnZXMucHVzaChhKTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaChiKTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaChhKTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaChjKTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaChiKTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaChjKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlZGdlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q0MoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB7Y2M6IHRoaXMuY2MsIHI6IHRoaXMuY2MubWFwKChjLCBpKSA9PiBjLmRpc1RvKHRoaXMucHRzW3RoaXMudHJzW2ldWzBdXSkpfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlQ0MoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY2MgPSB0aGlzLnRycy5tYXAodHIgPT4gXHJcbiAgICAgICAgICAgIFZlY3RvcjIuZnJvbUNpcmN1bWNlbnRlcih0aGlzLnB0c1t0clswXV0sIHRoaXMucHRzW3RyWzFdXSwgdGhpcy5wdHNbdHJbMl1dKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZvcm9ub2lFZGdlcyhjYWxjdWxhdGVDQyA9IGZhbHNlKSA6IFZlY3RvcjJbXVxyXG4gICAge1xyXG4gICAgICAgIGxldCBlZGdlczogVmVjdG9yMltdID0gW107XHJcblxyXG4gICAgICAgIGlmIChjYWxjdWxhdGVDQyB8fCB0aGlzLmNjLmxlbmd0aCAhPSB0aGlzLnRycy5sZW5ndGgpXHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQ0MoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwZXIgbmIgcmVsYXRpb24gOiBpZiBpdHMgbm90IC0xIDogYnVpbGQgYW4gZWRnZSBiZXR3ZWVuIG5iIGNjJ3MuIFxyXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy50cnMubGVuZ3RoIDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdHJpYW5nbGUgPSB0aGlzLnRyc1tpXTtcclxuICAgICAgICAgICAgZm9yKGxldCBpaSA9IDM7IGlpIDwgNjsgaWkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5iID0gdHJpYW5nbGVbaWldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5iID09IC0xKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGVkZ2VzLnB1c2godGhpcy5jY1tpXSk7XHJcbiAgICAgICAgICAgICAgICBlZGdlcy5wdXNoKHRoaXMuY2NbbmJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWRnZXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIC4uLiBJbnRlcmZhY2VcclxuXHJcbiAgICBwdWJsaWMgSW5zZXJ0KGluc2VydGlvbjogVmVjdG9yMikgOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZG9udCBpbnNlcnQgaWYgdG9vIHNpbWlsYXIgdG8gZXhpc3RpbmcgXHJcbiAgICAgICAgaWYgKHRoaXMucHRzLnNvbWUodiA9PiBpbnNlcnRpb24ucm91Z2hseUVxdWFscyh2LCAwLjEpKSlcclxuICAgICAgICAgICAgeyBjb25zb2xlLmxvZyhcInRvIGNsb3NlIHRvIGV4aXN0aW5nIHBvaW50XCIpOyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbiAgICAgICAgLy8gYWRkIGl0XHJcbiAgICAgICAgY29uc3QgaW5JRCA9IHRoaXMucHRzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLnB0cy5wdXNoKGluc2VydGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZ2V0IHRyaWFuZ2xlIGFuZCBJRCB2YWx1ZXNcclxuICAgICAgICBjb25zdCB0cklEID0gdGhpcy5zZWxlY3RUcmlhbmdsZShpbnNlcnRpb24pO1xyXG4gICAgICAgIGlmICh0cklEID09IC0xKVxyXG4gICAgICAgICAgICB7IGNvbnNvbGUubG9nKFwidHJpYW5nbGUgd2FsayBmYWlsZWRcIik7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cnNbdHJJRF07ICBcclxuXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfYV9JRCA9IHRyWzBdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2JfSUQgPSB0clsxXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9jX0lEID0gdHJbMl07XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2JjSUQgPSB0clszXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9jYUlEID0gdHJbNF07XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfYWJJRCA9IHRyWzVdO1xyXG5cclxuICAgICAgICBjb25zdCBhYklEID0gdHJJRDtcclxuICAgICAgICBjb25zdCBiY0lEID0gdGhpcy50cnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGNhSUQgPSB0aGlzLnRycy5sZW5ndGggKyAxO1xyXG5cclxuICAgICAgICAvLyBlZGl0IDEgdHJpYW5nbGUsIGFkZCAyIG5ldyBvbmVzIFxyXG4gICAgICAgIHRoaXMudHJzW3RySURdID0gW29yaWdpbmFsX2FfSUQsIG9yaWdpbmFsX2JfSUQsIGluSUQsIGJjSUQsIGNhSUQsIG9yaWdpbmFsX2FiSURdOyBcclxuICAgICAgICB0aGlzLnRycy5wdXNoKCAgIFtvcmlnaW5hbF9iX0lELCBvcmlnaW5hbF9jX0lELCBpbklELCBjYUlELCBhYklELCBvcmlnaW5hbF9iY0lEXSk7XHJcbiAgICAgICAgdGhpcy50cnMucHVzaCggICBbb3JpZ2luYWxfY19JRCwgb3JpZ2luYWxfYV9JRCwgaW5JRCwgYWJJRCwgYmNJRCwgb3JpZ2luYWxfY2FJRF0pO1xyXG5cclxuICAgICAgICAvLyBmaXggdG9wb2xvZ3lcclxuICAgICAgICB0aGlzLnJlcGxhY2VOZWlnaGJvcihvcmlnaW5hbF9iY0lELCB0cklELCBiY0lEKTtcclxuICAgICAgICB0aGlzLnJlcGxhY2VOZWlnaGJvcihvcmlnaW5hbF9jYUlELCB0cklELCBjYUlEKTtcclxuICAgICAgICB0aGlzLm1ha2VEZWxhdW5heShbYWJJRCwgYmNJRCwgY2FJRF0sIGluSUQpXHJcblxyXG4gICAgICAgIC8vIHN1Y2NlcyFcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi4gVXRpbFxyXG5cclxuICAgIC8vIHN0b3JlIHRoZSBsYXN0IHRyaWFuZ2xlXHJcbiAgICBwcml2YXRlIHdhbGtDdXJzb3IgPSAwO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RUcmlhbmdsZSh0YXJnZXQ6IFZlY3RvcjIpIDogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgLy8gc2VsZWN0IGEgdHJpYW5nbGUgYmFzZWQgb24gYSB3YWxraW5nIHRyaWFuZ2xlIGFsZ29yaXRobVxyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9ucyA9IFtbMCwxLDJdLCBbMSwyLDBdLCBbMiwwLDFdXSBcclxuICAgICAgICBsZXQgdHJJRCA9IHRoaXMud2Fsa0N1cnNvcjtcclxuICAgICAgICBmb3IgKGxldCBfID0gMDsgXyA8IHRoaXMudHJzLmxlbmd0aDsgXysrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjb21iaW5hdGlvbnMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0cklEID09IC0xKSBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IFZlY3RvcjIuZ2V0U2lnbihcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQsIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHRzW3RoaXMudHJzW3RySURdW2NbMF1dXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdHNbdGhpcy50cnNbdHJJRF1bY1sxXV1dKTtcclxuICAgICAgICAgICAgICAgIGlmIChzaWduIDwgMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0cklEID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKHRySUQsIHRoaXMudHJzW3RySURdW2NbMl1dKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY1swXSA9PSAyKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Fsa0N1cnNvciA9IHRySUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRySUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRvbyBtYW55IHN0ZXBzIGhhdmUgYmVlbiB0YWtlblxyXG4gICAgICAgIHRoaXMud2Fsa0N1cnNvciA9IDA7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbWFrZURlbGF1bmF5KHRySURTOiBudW1iZXJbXSwgcElEOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyBmbGlwIHVudGlsIGdyYXBoIGlzIGRlbGF1bmF5XHJcbiAgICAgICAgd2hpbGUodHJJRFMubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0cklEID0gdHJJRFMucG9wKCkhO1xyXG4gICAgICAgICAgICBsZXQgdHIgPSB0aGlzLnRyc1t0cklEXTtcclxuICAgICAgICAgICAgbGV0IG5iSUQgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUodHJJRCwgcElEKTtcclxuICAgICAgICAgICAgaWYgKG5iSUQgPT0gLTEpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHFJRCA9IHRoaXMuZ2V0TmVpZ2hib3JQb2ludChuYklELCB0cklEKTtcclxuICAgICAgICAgICAgbGV0IHEgPSB0aGlzLnB0c1txSURdO1xyXG4gICAgICAgICAgICBsZXQgYyA9IFZlY3RvcjIuZnJvbUNpcmN1bWNlbnRlcih0aGlzLnB0c1t0clswXV0sIHRoaXMucHRzW3RyWzFdXSwgdGhpcy5wdHNbdHJbMl1dKTtcclxuICAgICAgICAgICAgaWYgKGMuZXF1YWxzKFZlY3RvcjIuTmFOKCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHJhZGl1cyA9IGMuZGlzVG8odGhpcy5wdHNbdHJbMF1dKVxyXG4gICAgICAgICAgICBpZiAoYy5kaXNUbyhxKSA8IHJhZGl1cylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gZmxpcCFcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwb2ludHMgcCwgcSwgciBhbmQgc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcklEID0gdHJbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzSUQgPSB0clsxXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yZWlnbiBuZWlnaGJvcnMgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbmJfMSA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZSh0cklELCBySUQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm5iXzIgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUodHJJRCwgc0lEKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZuYl8zID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKG5iSUQsIHJJRCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbmJfNCA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZShuYklELCBzSUQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZU5laWdoYm9yKGZuYl8xLCB0cklELCBuYklEKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZU5laWdoYm9yKGZuYl80LCBuYklELCB0cklEKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyc1t0cklEXSA9IFtySUQsIHFJRCwgcElELCBuYklELCBmbmJfMiwgZm5iXzRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnNbbmJJRF0gPSBbcUlELCBzSUQsIHBJRCwgZm5iXzEsIHRySUQsIGZuYl8zXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cklEUy5wdXNoKHRySUQpO1xyXG4gICAgICAgICAgICAgICAgdHJJRFMucHVzaChuYklEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi4gSGVscGVyc1xyXG5cclxuICAgIHByaXZhdGUgcmVwbGFjZU5laWdoYm9yKHRySUQ6IG51bWJlciwgbmJPbGQ6IG51bWJlciwgbmJOZXc6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyB0aGVyZSBhcmUgcHJldHRpZXIgd2F5cywgYnV0IHRoaXMgaXMgZmFzdFxyXG4gICAgICAgIGlmICh0cklEID09IC0xKSByZXR1cm47XHJcbiAgICAgICAgaWYoICAgICAgdGhpcy50cnNbdHJJRF1bM10gPT0gbmJPbGQpICB0aGlzLnRyc1t0cklEXVszXSA9IG5iTmV3O1xyXG4gICAgICAgIGVsc2UgaWYoIHRoaXMudHJzW3RySURdWzRdID09IG5iT2xkKSAgdGhpcy50cnNbdHJJRF1bNF0gPSBuYk5ldztcclxuICAgICAgICBlbHNlIGlmKCB0aGlzLnRyc1t0cklEXVs1XSA9PSBuYk9sZCkgIHRoaXMudHJzW3RySURdWzVdID0gbmJOZXc7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlcGxhY2UgbmVpZ2hib3IgZmFpbGVkIVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE5laWdoYm9yVHJpYW5nbGUodHJpYW5nbGVJRDogbnVtYmVyLCBwb2ludElEOiBudW1iZXIpIDogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzBdID09IHBvaW50SUQpIGluZGV4ID0gMztcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bMV0gPT0gcG9pbnRJRCkgaW5kZXggPSA0O1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVsyXSA9PSBwb2ludElEKSBpbmRleCA9IDU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJzW3RyaWFuZ2xlSURdW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE5laWdoYm9yUG9pbnQodHJpYW5nbGVJRDogbnVtYmVyLCBuZWlnaGJvcklEOiBudW1iZXIpIDogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzNdID09IG5laWdoYm9ySUQpIGluZGV4ID0gMDtcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bNF0gPT0gbmVpZ2hib3JJRCkgaW5kZXggPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVs1XSA9PSBuZWlnaGJvcklEKSBpbmRleCA9IDI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJzW3RyaWFuZ2xlSURdW2luZGV4XTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2dyYW1IZWxwZXJzXHJcbntcclxuICAgIHN0YXRpYyBnZXRNb3ZlbWVudFZlY3RvcihnZW9uOiBHZW9uLCBtaW5zcGVlZDogbnVtYmVyLCBtYXhzcGVlZDogbnVtYmVyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICBsZXQgc3BlZWQgPSBtaW5zcGVlZDtcclxuICAgICAgICBsZXQgdmVsb2NpdHkgPSAgbmV3IFZlY3RvcjIoMCwwKTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleURvd24oXCJzaGlmdFwiKSlcclxuICAgICAgICAgICAgc3BlZWQgPSBtYXhzcGVlZDtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleURvd24oXCJhcnJvd3VwXCIpIHx8IGdlb24uSXNLZXlEb3duKFwid1wiKSlcclxuICAgICAgICAgICAgdmVsb2NpdHkuYWRkKG5ldyBWZWN0b3IyKDAsIDEpKTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleURvd24oXCJhcnJvd2Rvd25cIikgfHwgZ2Vvbi5Jc0tleURvd24oXCJzXCIpKVxyXG4gICAgICAgICAgICB2ZWxvY2l0eS5hZGQobmV3IFZlY3RvcjIoMCwgLTEpKTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleURvd24oXCJhcnJvd2xlZnRcIikgfHwgZ2Vvbi5Jc0tleURvd24oXCJhXCIpKVxyXG4gICAgICAgICAgICB2ZWxvY2l0eS5hZGQobmV3IFZlY3RvcjIoMSwgMCkpO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5RG93bihcImFycm93cmlnaHRcIikgfHwgZ2Vvbi5Jc0tleURvd24oXCJkXCIpKVxyXG4gICAgICAgICAgICB2ZWxvY2l0eS5hZGQoIG5ldyBWZWN0b3IyKC0xLCAwKSk7XHJcbiAgICAgICAgcmV0dXJuIHZlbG9jaXR5LnNldExlbmd0aChzcGVlZCk7XHJcbiAgICB9XHJcbn1cclxuICAgIFxyXG4gICAgXHJcbiIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5cclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgTGluZTIgfSBmcm9tIFwiLi4vZ2VvMi9saW5lMlwiO1xyXG5pbXBvcnQgeyBEZWxhdW5heSB9IGZyb20gXCIuLi9nZW8yL0RlbGF1bmF5XCI7XHJcbmltcG9ydCB7IFByb2dyYW1IZWxwZXJzIH0gZnJvbSBcIi4vUHJvZ3JhbUhlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEZWxhdW5heVByb2dyYW0gZXh0ZW5kcyBQcm9ncmFtXHJcbntcclxuICAgIFNXSVRDSF9LRVkgPSAndic7XHJcbiAgICBzd2l0Y2ggPSAwO1xyXG4gICAgZHQ6IERlbGF1bmF5ID0gbmV3IERlbGF1bmF5KCk7XHJcbiAgICBwOiBWZWN0b3IyW10gPSBbXTtcclxuXHJcbiAgICAvLyBvdmVycmlkZXNcclxuICAgIHRpdGxlID0gJ2RlbGF1bmF5JztcclxuICAgIGRlc2NyaXB0aW9uID0gYHVzZSAke3RoaXMuU1dJVENIX0tFWX0gdG8gY2hhbmdlIHZpc3VhbHNgO1xyXG5cclxuXHJcbiAgICBzdGFydChnZW9uOiBHZW9uKVxyXG4gICAgeyBcclxuICAgICAgICBsZXQgcHQgPSBuZXcgVmVjdG9yMihnZW9uLndpZHRoIC8gMiwgZ2Vvbi5oZWlnaHQgLyAyKVxyXG4gICAgICAgIHRoaXMuYWRkKHB0KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZUxlZnRQcmVzc2VkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGluc2VydGlvbiA9IFZlY3RvcjIuZnJvbUNvcHkoZ2Vvbi53b3JsZE1vdXNlKTsgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGluc2VydGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChnZW9uLm1vdXNlUmlnaHREb3duKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wdWxsKGdlb24ud29ybGRNb3VzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlQcmVzc2VkKHRoaXMuU1dJVENIX0tFWSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaCArPSAxO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zd2l0Y2ggPiAyKSBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoID0gMDsgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGxlcnAgZHQgYmFjayB0byBvcmlnaW5hbFxyXG4gICAgICAgIHRoaXMuZHQuZ2V0VmVydGljZXMoKS5mb3JFYWNoKChlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGUubGVycCh0aGlzLnBbaV0sIDAuMDUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB1cGRhdGUgY2FtZXJhXHJcbiAgICAgICAgbGV0IHZlbCA9IFByb2dyYW1IZWxwZXJzLmdldE1vdmVtZW50VmVjdG9yKGdlb24sIDIgLyBnZW9uLnIuc2NhbGUsIDUgLyBnZW9uLnIuc2NhbGUpO1xyXG4gICAgICAgIGdlb24uci5vZmZzZXQuYWRkKHZlbCk7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlQcmVzc2VkKCdxJykpXHJcbiAgICAgICAgICAgIGdlb24uci5zY2FsZSAqPSAxLjU7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlQcmVzc2VkKCdlJykpXHJcbiAgICAgICAgICAgIGdlb24uci5zY2FsZSAqPSAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGRyYXcgY3Vyc29yXHJcbiAgICAgICAgZ2Vvbi5yLnBvaW50KGdlb24ubW91c2UueCwgZ2Vvbi5tb3VzZS55KTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBwb2ludHNcclxuICAgICAgICBnZW9uLnIucG9pbnRzKHRoaXMuZHQuZ2V0VmVydGljZXMoKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN3aXRjaCA9PSAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gZHJhdyBkZWxhdW5heSB0cmlhbmd1bGF0aW9uXHJcbiAgICAgICAgICAgIGdlb24uci5saW5lU2VnbWVudHModGhpcy5kdC5nZXRFZGdlcygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zd2l0Y2ggPT0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIGRyYXcgdm9yb25vaSBkaWFncmFtXHJcbiAgICAgICAgICAgIGdlb24uci5saW5lU2VnbWVudHModGhpcy5kdC5nZXRWb3Jvbm9pRWRnZXModHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnN3aXRjaCA9PSAyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9kcmF3IGNpcmN1bWNpcmNsZXNcclxuICAgICAgICAgICAgdGhpcy5kdC5jYWxjdWxhdGVDQygpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZHQuZ2V0Q0MoKTtcclxuICAgICAgICAgICAgZ2Vvbi5yLmNpcmNsZXMoZGF0YS5jYywgZGF0YS5yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uXHJcblxyXG4gICAgYWRkKHY6IFZlY3RvcjIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gc2ltdWxhdGUgaW1wYWN0XHJcbiAgICAgICAgdGhpcy5kdC5JbnNlcnQodik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gb3JpZ2luYWwgcG9pbnRzXHJcbiAgICAgICAgdGhpcy5wID0gdGhpcy5kdC5nZXRWZXJ0aWNlcygpLm1hcChlID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGUuY2xvbmUoKVxyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgIHRoaXMuZGlzdHVyYih2LCAyMCwgODAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWxsKHY6IFZlY3RvcjIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZGlzcGxhY2UgZHQgXHJcbiAgICAgICAgLy8gdGhpcy5kdC5nZXRWZXJ0aWNlcygpLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGUuYWRkKFZlY3RvcjIuZnJvbVJhbmRvbUFuZ2xlKCkuc2NhbGUoTWF0aC5taW4oMTAsIDUwMCAvIGUuZGlzVG8odikpKSlcclxuICAgICAgICAvLyB9KVxyXG5cclxuICAgICAgICAvLyBkaXNwbGFjZSBkdCBcclxuICAgICAgICBsZXQgdmVydGljZXMgPSB0aGlzLmR0LmdldFZlcnRpY2VzKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGUgPSB2ZXJ0aWNlc1tpXTtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMucFtpXTtcclxuICAgICAgICAgICAgbGV0IGRpZmZlcmVuY2UgPSBWZWN0b3IyLmZyb20yUHQodiwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRpZmZlcmVuY2UubGVuZ3RoKCk7XHJcbiAgICAgICAgICAgIGlmIChsZW5ndGggPCA1KSBjb250aW51ZTtcclxuICAgICAgICAgICAgZS5hZGQoZGlmZmVyZW5jZS5ub3JtYWxpemUoKS5zY2FsZShNYXRoLm1pbigxLCA1MDAgLyBsZW5ndGgpKSlcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGRpc3R1cmIodjogVmVjdG9yMiwgc3RyZW5ndGg6IG51bWJlciwgcmFuZ2U6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyBkaXNwbGFjZSBkdCBcclxuICAgICAgICB0aGlzLmR0LmdldFZlcnRpY2VzKCkuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgZS5hZGQoVmVjdG9yMi5mcm9tUmFuZG9tQW5nbGUoKS5zY2FsZShNYXRoLm1pbihzdHJlbmd0aCwgcmFuZ2UgLyBlLmRpc1RvKHYpKSkpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi9HZW9uXCI7XHJcblxyXG5pbXBvcnQgeyBTZWxlY3Rvck1ldGFQcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbXMvU2VsZWN0b3JNZXRhUHJvZ3JhbVwiO1xyXG5cclxuaW1wb3J0IHsgQm91bmNlQmFsbHNQcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbXMvQm91bmNlQmFsbHNQcm9ncmFtXCI7XHJcbmltcG9ydCB7IERlbGF1bmF5UHJvZ3JhbSB9IGZyb20gXCIuL3Byb2dyYW1zL0RlbGF1bmF5UHJvZ3JhbVwiO1xyXG5cclxuY29uc3QgcHJvZ3JhbXM6IGFueVtdID0gXHJcbltcclxuICAgIEJvdW5jZUJhbGxzUHJvZ3JhbSxcclxuICAgIERlbGF1bmF5UHJvZ3JhbVxyXG5dO1xyXG5jb25zdCBtZXRhID0gbmV3IFNlbGVjdG9yTWV0YVByb2dyYW0ocHJvZ3JhbXMpO1xyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikhIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCBnZW9uID0gbmV3IEdlb24oY2FudmFzKTtcclxuZ2Vvbi5sb2FkTWV0YShtZXRhKTsgICAgICAgICAgICAgLy8gcHJvZ3JhbSBzZWxlY3RvclxyXG5nZW9uLmxvYWQobmV3IEJvdW5jZUJhbGxzUHJvZ3JhbSgpKTsgLy8gZmlyc3QgcHJvZ3JhbSB0byBsb2FkIFxyXG5cclxuXHJcbmNvbnNvbGUubG9nKFwiZXZlcnl0aGluZyBsb2FkZWQuXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///679\n')})();