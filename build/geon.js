(()=>{"use strict";eval('\n// CONCATENATED MODULE: ./src/math/Vector2.ts\n// author: Jos Feenstra\r\n// inspiration from Three.js\r\n// note: recycle the class as much as possble, building a new class is expensive,\r\n// especially in javascript\r\nclass Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    // --- factories & other statics\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector2(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector2(Math.random(), Math.random());\r\n    }\r\n    static fromRandomAngle() {\r\n        let alpha = Math.random() * Math.PI * 2;\r\n        return new Vector2(Math.cos(alpha), Math.sin(alpha));\r\n    }\r\n    static from2Pt(from, to) {\r\n        return new Vector2(from.x - to.x, from.y - to.y);\r\n    }\r\n    static fromCopy(other) {\r\n        return this.zero().copy(other);\r\n    }\r\n    static zero() { return new Vector2(0, 0); }\r\n    static NaN() { return new Vector2(NaN, NaN); }\r\n    static fromCircumcenter(a, b, c) {\r\n        const asum = a.squareSum();\r\n        const bsum = b.squareSum();\r\n        const csum = c.squareSum();\r\n        // sort of cross product\r\n        let d = 2 * (a.x * (b.y - c.y) +\r\n            b.x * (c.y - a.y) +\r\n            c.x * (a.y - b.y));\r\n        // if this triangle has no circumcenter? \r\n        if (d < 0.000001)\r\n            return Vector2.NaN();\r\n        let x = (asum * (b.y - c.y) +\r\n            bsum * (c.y - a.y) +\r\n            csum * (a.y - b.y)) / d;\r\n        let y = (asum * (c.x - b.x) +\r\n            bsum * (a.x - c.x) +\r\n            csum * (b.x - a.x)) / d;\r\n        return new Vector2(x, y);\r\n    }\r\n    static getSign(a, b, c) {\r\n        // test half plane relationship\r\n        // <0 : point on first half\r\n        // 0  : points collinear\r\n        // >0 : point on second half \r\n        return (a.x - c.x) * (b.y - c.y) -\r\n            (b.x - c.x) * (a.y - c.y);\r\n    }\r\n    // --- basics\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    roughlyEquals(v, tol) {\r\n        return (Math.abs(this.x - v.x) < tol &&\r\n            Math.abs(this.y - v.y) < tol);\r\n    }\r\n    equals(v) {\r\n        return ((v.x === this.x) && (v.y === this.y));\r\n    }\r\n    toString() {\r\n        return `Vector3(${this.x}, ${this.y})`;\r\n    }\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        return this;\r\n    }\r\n    // --- math\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        return this;\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        return this;\r\n    }\r\n    divscale(v) {\r\n        this.x /= v;\r\n        this.y /= v;\r\n        return this;\r\n    }\r\n    min(other) {\r\n        this.x = Math.min(this.x, other.x);\r\n        this.y = Math.min(this.y, other.y);\r\n        return this;\r\n    }\r\n    max(other) {\r\n        this.x = Math.max(this.x, other.x);\r\n        this.y = Math.max(this.y, other.y);\r\n        return this;\r\n    }\r\n    clamp(min, max) {\r\n        // assumes min < max, componentwise\r\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\r\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\r\n        return this;\r\n    }\r\n    clampScalar(minVal, maxVal) {\r\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\r\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\r\n        return this;\r\n    }\r\n    clampLength(min, max) {\r\n        const length = this.length();\r\n        return this.divscale(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floor() {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    round() {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        return this;\r\n    }\r\n    roundToZero() {\r\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\r\n        return this;\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        return this.x * v.y - this.y * v.x; // ????\r\n    }\r\n    squareSum() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y);\r\n    }\r\n    normalize() {\r\n        return this.divscale(this.length() || 1);\r\n    }\r\n    angle() {\r\n        // computes the angle in radians with respect to the positive x-axis\r\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\r\n        return angle;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        const dx = this.x - v.x, dy = this.y - v.y;\r\n        return dx * dx + dy * dy;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        this.x += (other.x - this.x) * alpha;\r\n        this.y += (other.y - this.y) * alpha;\r\n        return this;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/2D/Renderer2.ts\n// author: Jos Feenstra\r\n\r\n// only renderer talks to ctx & canvas.\r\n// do all the camera work in here\r\nclass Renderer2 {\r\n    constructor(canvas, geon) {\r\n        // visuals\r\n        this.pointsize = 5;\r\n        this.pointcolor = "#ffffff";\r\n        this.linecolor = "#ffffff";\r\n        this.fillcolor = "#666666";\r\n        this.geon = geon;\r\n        this.ctx = canvas.getContext("2d");\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    reset() {\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    // TODO fix this once i build matrices\r\n    applyOffset(v) {\r\n        return v.clone().add(this.offset).scale(this.scale);\r\n    }\r\n    revertOffset(v) {\r\n        return v.clone().scale(1 / this.scale).sub(this.offset);\r\n    }\r\n    // this clears with a transparant layer, for easy delayed effect\r\n    clearFade(alpha) {\r\n        // adjust color settings\r\n        const color = this.ctx.fillStyle;\r\n        this.ctx.fillStyle = "#000000ff";\r\n        this.ctx.globalAlpha = alpha;\r\n        this.ctx.fillRect(0, 0, this.geon.width, this.geon.height);\r\n        // reset color settings \r\n        this.ctx.globalAlpha = 1;\r\n        this.ctx.fillStyle = color;\r\n    }\r\n    clear() {\r\n        this.ctx.clearRect(0, 0, this.geon.width, this.geon.height);\r\n    }\r\n    point(x, y) {\r\n        // todo camera\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(x, y, this.pointsize, 0, Math.PI * 2, false);\r\n        this.ctx.fill();\r\n    }\r\n    points(points) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.ctx.beginPath();\r\n            let v = this.applyOffset(points[i]);\r\n            this.ctx.arc(v.x, v.y, this.pointsize, 0, Math.PI * 2, false);\r\n            this.ctx.fill();\r\n        }\r\n    }\r\n    line(line) {\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(line.from.x, line.from.y);\r\n        this.ctx.lineTo(line.to.x, line.to.y);\r\n        this.ctx.stroke();\r\n    }\r\n    lineSegments(vertices) {\r\n        this.ctx.beginPath();\r\n        for (let i = 0; i < vertices.length; i += 2) {\r\n            let ii = i + 1;\r\n            let v1 = this.applyOffset(vertices[i]);\r\n            let v2 = this.applyOffset(vertices[ii]);\r\n            this.ctx.moveTo(v1.x, v1.y);\r\n            this.ctx.lineTo(v2.x, v2.y);\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n    circles(points, radii) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.ctx.beginPath();\r\n            let v = this.applyOffset(points[i]);\r\n            let r = radii[i] * this.scale;\r\n            this.ctx.arc(v.x, v.y, r, 0, Math.PI * 2, false);\r\n            this.ctx.stroke();\r\n        }\r\n    }\r\n    rectangle() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n    polygon() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Geon.ts\n\r\n\r\nclass Geon {\r\n    constructor(canvas) {\r\n        this.looping = false;\r\n        this.keysDown = {};\r\n        this.keysPressed = [];\r\n        this.mouse = Vector2.zero();\r\n        this.worldMouse = Vector2.zero();\r\n        this.mouseLeftDown = false;\r\n        this.mouseLeftPressed = false;\r\n        this.mouseLeftPrev = false;\r\n        this.mouseRightDown = false;\r\n        this.mouseRightPressed = false;\r\n        this.mouseRightPrev = false;\r\n        this.mouseMiddleDown = false;\r\n        this.mouseMiddlePressed = false;\r\n        this.mouseMiddlePrev = false;\r\n        // window\r\n        this.canvas = canvas;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n        this.setWindow();\r\n        // window.onresize = this.setWindow;\r\n        // rendering\r\n        this.r = new Renderer2(canvas, this);\r\n        // time\r\n        this.tick = 0;\r\n        this.oldTime = Date.now();\r\n        this.newTime = this.oldTime;\r\n        // mouse\r\n        canvas.onmousemove = this.setMousePos.bind(this);\r\n        canvas.onmousedown = this.setMouseDown.bind(this);\r\n        canvas.onmouseup = this.setMouseUp.bind(this);\r\n        canvas.oncontextmenu = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        // keyboard\r\n        canvas.onkeydown = this.onKeyDown.bind(this);\r\n        canvas.onkeypress = this.onKeyPressed.bind(this);\r\n        canvas.onkeyup = this.onKeyUp.bind(this);\r\n        for (let i = 0; i < 223; i++) {\r\n            this.keysDown[i] = false;\r\n        }\r\n        canvas.focus();\r\n    }\r\n    // ...\r\n    load(game) {\r\n        this.r.reset();\r\n        this.program = game;\r\n        game.start(this);\r\n        if (!this.looping)\r\n            this.loop();\r\n    }\r\n    loadMeta(program) {\r\n        this.meta = program;\r\n        program.start(this);\r\n    }\r\n    IsKeyDown(key) {\r\n        return this.keysDown[key];\r\n    }\r\n    IsKeyPressed(key) {\r\n        return this.keysPressed.includes(key);\r\n    }\r\n    onKeyDown(e) {\r\n        if (this.keysDown[e.key] == true)\r\n            return;\r\n        console.log(e.key);\r\n        this.keysDown[e.key.toLowerCase()] = true;\r\n        this.keysPressed.push(e.key);\r\n    }\r\n    onKeyUp(e) {\r\n        this.keysDown[e.key.toLowerCase()] = false;\r\n    }\r\n    onKeyPressed(e) {\r\n    }\r\n    // ...\r\n    loop() {\r\n        this.looping = true;\r\n        function step() {\r\n            var _a, _b;\r\n            // update time\r\n            this.newTime = Date.now();\r\n            this.tick = (this.newTime - this.oldTime);\r\n            this.oldTime = this.newTime;\r\n            // update mouse\r\n            this.mouseLeftPressed = (this.mouseLeftPrev != this.mouseLeftDown) && this.mouseLeftDown;\r\n            this.mouseRightPressed = (this.mouseRightPrev != this.mouseRightDown) && this.mouseRightDown;\r\n            this.mouseMiddlePressed = (this.mouseMiddlePrev != this.mouseMiddleDown) && this.mouseMiddleDown;\r\n            this.mouseLeftPrev = this.mouseLeftDown;\r\n            this.mouseRightPrev = this.mouseRightDown;\r\n            this.mouseMiddlePrev = this.mouseMiddleDown;\r\n            // TODO : dont update if nothing moved (?)\r\n            this.program.update(this);\r\n            this.r.clear();\r\n            this.program.draw(this);\r\n            // update metaprogram afterwards\r\n            (_a = this.meta) === null || _a === void 0 ? void 0 : _a.update(this);\r\n            (_b = this.meta) === null || _b === void 0 ? void 0 : _b.draw(this);\r\n            // refresh keypresses\r\n            this.keysPressed = [];\r\n            // Call the game loop\r\n            window.requestAnimationFrame(step.bind(this));\r\n        }\r\n        window.requestAnimationFrame(step.bind(this));\r\n    }\r\n    setMousePos(e) {\r\n        // this is a bit messy, BUT, multiply by camera parameters\r\n        this.mouse = new Vector2(e.clientX, e.clientY);\r\n        this.worldMouse = this.r.revertOffset(this.mouse);\r\n    }\r\n    setMouseUp(e) {\r\n        let code = e.buttons;\r\n        if (code < 4) {\r\n            this.mouseMiddleDown = false;\r\n        }\r\n        if (code < 2) {\r\n            this.mouseRightDown = false;\r\n        }\r\n        if (code < 1) {\r\n            this.mouseLeftDown = false;\r\n        }\r\n    }\r\n    setMouseDown(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let code = e.buttons;\r\n        if (code >= 4) {\r\n            code -= 4;\r\n            this.mouseMiddleDown = true;\r\n        }\r\n        if (code >= 2) {\r\n            code -= 2;\r\n            this.mouseRightDown = true;\r\n        }\r\n        if (code >= 1) {\r\n            code -= 1;\r\n            this.mouseLeftDown = true;\r\n        }\r\n        return false;\r\n    }\r\n    setWindow() {\r\n        console.log("setting window...");\r\n        this.canvas.width = document.body.clientWidth;\r\n        this.canvas.height = document.body.clientHeight;\r\n        this.canvas.style.width = this.canvas.width + "px";\r\n        this.canvas.style.height = this.canvas.height + "px";\r\n        this.width = this.canvas.width;\r\n        this.height = this.canvas.height;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program.ts\nclass Program {\r\n    start(geon) {\r\n        //  init geometry \r\n    }\r\n    update(geon) {\r\n        // update geometry\r\n    }\r\n    draw(geon) {\r\n        // draw geometry\r\n    }\r\n    exit(geon) {\r\n        // deallocate ? clean?\r\n    }\r\n}\r\n// just a flag for now\r\nclass MetaProgram extends Program {\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Selector.ts\n\r\n// metaprogram\r\nclass SelectorMetaProgram extends MetaProgram {\r\n    constructor(programs) {\r\n        super();\r\n        this.current = 0;\r\n        this.isAnimating = false;\r\n        this.animationCounter = 1;\r\n        this.comeback = false;\r\n        this.programs = programs;\r\n        if (this.programs.length == 0)\r\n            throw "Need at least 1 program!";\r\n    }\r\n    start(geon) {\r\n        this.programs[this.current];\r\n    }\r\n    update(geon) {\r\n        // listen for keypresses \r\n        // stupid i know. More specific listening would be better.\r\n        for (let i = 1; i < 10; i++) {\r\n            if (geon.IsKeyPressed(i.toString())) {\r\n                this.prepareSwapProgram(i - 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    draw(geon) {\r\n        const speed = 0.015;\r\n        if (this.isAnimating) {\r\n            if (this.animationCounter > 1) {\r\n                this.isAnimating = false;\r\n            }\r\n            geon.r.clearFade(1 - this.animationCounter);\r\n            if (this.animationCounter > 0) {\r\n                if (this.comeback)\r\n                    this.animationCounter += speed;\r\n                else\r\n                    this.animationCounter -= speed;\r\n            }\r\n            else {\r\n                this.animationCounter += 0.01;\r\n                this.comeback = true;\r\n                this.swapProgram(geon);\r\n            }\r\n        }\r\n        // draw transitions\r\n    }\r\n    prepareSwapProgram(num) {\r\n        if (num < 0 || num >= this.programs.length) {\r\n            console.log("no program [" + num.toString() + "].");\r\n            return;\r\n        }\r\n        console.log("swapping to program " + num.toString());\r\n        // prepare for animation\r\n        this.current = num;\r\n        this.isAnimating = true;\r\n        this.comeback = false;\r\n        this.animationCounter = 1;\r\n        // load\r\n        // fade in\r\n    }\r\n    swapProgram(geon) {\r\n        geon.load(new this.programs[this.current]());\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/BounceBallsProgram.ts\n\r\n\r\nclass BounceBallsProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.points = [];\r\n        this.vectors = [];\r\n        this.count = 100;\r\n        this.speed = 2;\r\n    }\r\n    start(geon) {\r\n        this.points = new Array(this.count);\r\n        this.vectors = new Array(this.count);\r\n        for (let i = 0; i < this.count; i++) {\r\n            this.points[i] = Vector2.fromRandom().mul(geon.bounds);\r\n            this.vectors[i] = Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize();\r\n        }\r\n        console.log("created a bunch of points");\r\n    }\r\n    update(geon) {\r\n        for (let i = 0; i < this.count; i++) {\r\n            let p = this.points[i];\r\n            let v = this.vectors[i];\r\n            if (geon.mouseLeftDown) {\r\n                // disrupt the vector, based on how closeby the mouse is\r\n                let dir = Vector2.from2Pt(p, geon.mouse);\r\n                let length = dir.length();\r\n                dir.normalize().scale(Math.min(4, 100 / length));\r\n                v.add(dir);\r\n            }\r\n            p.add(v);\r\n            let length = v.length();\r\n            if (length > this.speed) {\r\n                v.setLength(length * 0.99);\r\n            }\r\n            // bounce at edge\r\n            if (p.x < 0 || p.x > geon.bounds.x)\r\n                v.x = -v.x;\r\n            if (p.y < 0 || p.y > geon.bounds.y)\r\n                v.y = -v.y;\r\n        }\r\n        // if mouse is nearby, move away from it\r\n        if (geon.mouseRightPressed) {\r\n            for (let i = 0; i < 100; i++) {\r\n                this.count += 1;\r\n                this.points.push(Vector2.fromRandom().mul(geon.bounds));\r\n                this.vectors.push(Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize());\r\n            }\r\n        }\r\n    }\r\n    draw(geon) {\r\n        this.points.forEach(p => geon.r.point(p.x, p.y));\r\n        // draw at mouse position;\r\n        if (geon.mouseLeftDown) {\r\n            geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        }\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/geo2/Delaunay.ts\n// author : Jos Feenstra\r\n// TODO: extend from a generic triangulation? might be nice to have\r\n\r\nclass Delaunay {\r\n    constructor() {\r\n        // ... Util\r\n        // store the last triangle\r\n        this.walkCursor = 0;\r\n        this.pts = [];\r\n        this.trs = [];\r\n        this.cc = [];\r\n        // init big base triangle\r\n        this.pts.push(new Vector2(-10000, -10000));\r\n        this.pts.push(new Vector2(10000, -10000));\r\n        this.pts.push(new Vector2(0, 10000));\r\n        this.trs.push([0, 1, 2, -1, -1, -1]);\r\n    }\r\n    // ... Getters \r\n    getVertices() {\r\n        return this.pts;\r\n    }\r\n    getEdges() {\r\n        let edges = [];\r\n        for (let tr of this.trs) {\r\n            let a = this.pts[tr[0]];\r\n            let b = this.pts[tr[1]];\r\n            let c = this.pts[tr[2]];\r\n            edges.push(a);\r\n            edges.push(b);\r\n            edges.push(a);\r\n            edges.push(c);\r\n            edges.push(b);\r\n            edges.push(c);\r\n        }\r\n        return edges;\r\n    }\r\n    getCC() {\r\n        return { cc: this.cc, r: this.cc.map((c, i) => c.disTo(this.pts[this.trs[i][0]])) };\r\n    }\r\n    calculateCC() {\r\n        this.cc = this.trs.map(tr => Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]));\r\n    }\r\n    getVoronoiEdges(calculateCC = false) {\r\n        let edges = [];\r\n        if (calculateCC || this.cc.length != this.trs.length)\r\n            this.calculateCC();\r\n        // per nb relation : if its not -1 : build an edge between nb cc\'s. \r\n        for (let i = 0; i < this.trs.length; i++) {\r\n            let triangle = this.trs[i];\r\n            for (let ii = 3; ii < 6; ii++) {\r\n                let nb = triangle[ii];\r\n                if (nb == -1)\r\n                    continue;\r\n                edges.push(this.cc[i]);\r\n                edges.push(this.cc[nb]);\r\n            }\r\n        }\r\n        return edges;\r\n    }\r\n    // ... Interface\r\n    Insert(insertion) {\r\n        // dont insert if too similar to existing \r\n        if (this.pts.some(v => insertion.roughlyEquals(v, 0.1))) {\r\n            console.log("to close to existing point");\r\n            return false;\r\n        }\r\n        // add it\r\n        const inID = this.pts.length;\r\n        this.pts.push(insertion);\r\n        // get triangle and ID values\r\n        const trID = this.selectTriangle(insertion);\r\n        if (trID == -1) {\r\n            console.log("triangle walk failed");\r\n            return false;\r\n        }\r\n        const tr = this.trs[trID];\r\n        const original_a_ID = tr[0];\r\n        const original_b_ID = tr[1];\r\n        const original_c_ID = tr[2];\r\n        const original_bcID = tr[3];\r\n        const original_caID = tr[4];\r\n        const original_abID = tr[5];\r\n        const abID = trID;\r\n        const bcID = this.trs.length;\r\n        const caID = this.trs.length + 1;\r\n        // edit 1 triangle, add 2 new ones \r\n        this.trs[trID] = [original_a_ID, original_b_ID, inID, bcID, caID, original_abID];\r\n        this.trs.push([original_b_ID, original_c_ID, inID, caID, abID, original_bcID]);\r\n        this.trs.push([original_c_ID, original_a_ID, inID, abID, bcID, original_caID]);\r\n        // fix topology\r\n        this.replaceNeighbor(original_bcID, trID, bcID);\r\n        this.replaceNeighbor(original_caID, trID, caID);\r\n        this.makeDelaunay([abID, bcID, caID], inID);\r\n        // succes!\r\n        return true;\r\n    }\r\n    selectTriangle(target) {\r\n        // select a triangle based on a walking triangle algorithm\r\n        const combinations = [[0, 1, 2], [1, 2, 0], [2, 0, 1]];\r\n        let trID = this.walkCursor;\r\n        for (let _ = 0; _ < this.trs.length; _++) {\r\n            for (let c of combinations) {\r\n                if (trID == -1)\r\n                    return -1;\r\n                let sign = Vector2.getSign(target, this.pts[this.trs[trID][c[0]]], this.pts[this.trs[trID][c[1]]]);\r\n                if (sign < 0) {\r\n                    trID = this.getNeighborTriangle(trID, this.trs[trID][c[2]]);\r\n                    break;\r\n                }\r\n                if (c[0] == 2) {\r\n                    this.walkCursor = trID;\r\n                    return trID;\r\n                }\r\n            }\r\n        }\r\n        // too many steps have been taken\r\n        this.walkCursor = 0;\r\n        return -1;\r\n    }\r\n    makeDelaunay(trIDS, pID) {\r\n        // flip until graph is delaunay\r\n        while (trIDS.length > 0) {\r\n            let trID = trIDS.pop();\r\n            let tr = this.trs[trID];\r\n            let nbID = this.getNeighborTriangle(trID, pID);\r\n            if (nbID == -1)\r\n                continue;\r\n            let qID = this.getNeighborPoint(nbID, trID);\r\n            let q = this.pts[qID];\r\n            let c = Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]);\r\n            if (c.equals(Vector2[NaN]())) {\r\n                continue;\r\n            }\r\n            let radius = c.disTo(this.pts[tr[0]]);\r\n            if (c.disTo(q) < radius) {\r\n                // flip!\r\n                // points p, q, r and s\r\n                const rID = tr[0];\r\n                const sID = tr[1];\r\n                // foreign neighbors \r\n                const fnb_1 = this.getNeighborTriangle(trID, rID);\r\n                const fnb_2 = this.getNeighborTriangle(trID, sID);\r\n                const fnb_3 = this.getNeighborTriangle(nbID, rID);\r\n                const fnb_4 = this.getNeighborTriangle(nbID, sID);\r\n                this.replaceNeighbor(fnb_1, trID, nbID);\r\n                this.replaceNeighbor(fnb_4, nbID, trID);\r\n                this.trs[trID] = [rID, qID, pID, nbID, fnb_2, fnb_4];\r\n                this.trs[nbID] = [qID, sID, pID, fnb_1, trID, fnb_3];\r\n                trIDS.push(trID);\r\n                trIDS.push(nbID);\r\n            }\r\n        }\r\n    }\r\n    // ... Helpers\r\n    replaceNeighbor(trID, nbOld, nbNew) {\r\n        // there are prettier ways, but this is fast\r\n        if (trID == -1)\r\n            return;\r\n        if (this.trs[trID][3] == nbOld)\r\n            this.trs[trID][3] = nbNew;\r\n        else if (this.trs[trID][4] == nbOld)\r\n            this.trs[trID][4] = nbNew;\r\n        else if (this.trs[trID][5] == nbOld)\r\n            this.trs[trID][5] = nbNew;\r\n        else\r\n            console.log("replace neighbor failed!");\r\n    }\r\n    getNeighborTriangle(triangleID, pointID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][0] == pointID)\r\n            index = 3;\r\n        if (this.trs[triangleID][1] == pointID)\r\n            index = 4;\r\n        if (this.trs[triangleID][2] == pointID)\r\n            index = 5;\r\n        return this.trs[triangleID][index];\r\n    }\r\n    getNeighborPoint(triangleID, neighborID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][3] == neighborID)\r\n            index = 0;\r\n        if (this.trs[triangleID][4] == neighborID)\r\n            index = 1;\r\n        if (this.trs[triangleID][5] == neighborID)\r\n            index = 2;\r\n        return this.trs[triangleID][index];\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/ProgramHelpers.ts\n\r\nclass ProgramHelpers {\r\n    static getMovementVector(geon, minspeed, maxspeed) {\r\n        let speed = minspeed;\r\n        let velocity = new Vector2(0, 0);\r\n        if (geon.IsKeyDown("shift"))\r\n            speed = maxspeed;\r\n        if (geon.IsKeyDown("arrowup") || geon.IsKeyDown("w"))\r\n            velocity.add(new Vector2(0, 1));\r\n        if (geon.IsKeyDown("arrowdown") || geon.IsKeyDown("s"))\r\n            velocity.add(new Vector2(0, -1));\r\n        if (geon.IsKeyDown("arrowleft") || geon.IsKeyDown("a"))\r\n            velocity.add(new Vector2(1, 0));\r\n        if (geon.IsKeyDown("arrowright") || geon.IsKeyDown("d"))\r\n            velocity.add(new Vector2(-1, 0));\r\n        return velocity.setLength(speed);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/DelaunayProgram.ts\n\r\n\r\n\r\n\r\nclass DelaunayProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.switch = 0;\r\n        this.dt = new Delaunay();\r\n        this.p = [];\r\n    }\r\n    start(geon) {\r\n        let pt = new Vector2(geon.width / 2, geon.height / 2);\r\n        this.add(pt);\r\n    }\r\n    update(geon) {\r\n        if (geon.mouseLeftPressed) {\r\n            let insertion = Vector2.fromCopy(geon.worldMouse);\r\n            this.add(insertion);\r\n        }\r\n        if (geon.mouseRightDown) {\r\n            this.pull(geon.worldMouse);\r\n        }\r\n        if (geon.IsKeyPressed(\'h\')) {\r\n            this.switch += 1;\r\n            if (this.switch > 2)\r\n                this.switch = 0;\r\n        }\r\n        // lerp dt back to original\r\n        this.dt.getVertices().forEach((e, i) => {\r\n            e.lerp(this.p[i], 0.05);\r\n        });\r\n        // update camera\r\n        let vel = ProgramHelpers.getMovementVector(geon, 2 / geon.r.scale, 5 / geon.r.scale);\r\n        geon.r.offset.add(vel);\r\n        if (geon.IsKeyPressed(\'q\'))\r\n            geon.r.scale *= 1.5;\r\n        if (geon.IsKeyPressed(\'e\'))\r\n            geon.r.scale *= 0.5;\r\n    }\r\n    draw(geon) {\r\n        // draw cursor\r\n        geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        // draw points\r\n        geon.r.points(this.dt.getVertices());\r\n        if (this.switch == 0) {\r\n            // draw delaunay triangulation\r\n            geon.r.lineSegments(this.dt.getEdges());\r\n        }\r\n        else if (this.switch == 1) {\r\n            // draw voronoi diagram\r\n            geon.r.lineSegments(this.dt.getVoronoiEdges(true));\r\n        }\r\n        else if (this.switch == 2) {\r\n            //draw circumcircles\r\n            this.dt.calculateCC();\r\n            let data = this.dt.getCC();\r\n            geon.r.circles(data.cc, data.r);\r\n        }\r\n    }\r\n    // ...\r\n    add(v) {\r\n        // simulate impact\r\n        this.dt.Insert(v);\r\n        // original points\r\n        this.p = this.dt.getVertices().map(e => {\r\n            return e.clone();\r\n        });\r\n        this.disturb(v, 20, 800);\r\n    }\r\n    pull(v) {\r\n        // displace dt \r\n        // this.dt.getVertices().forEach(e => {\r\n        //     e.add(Vector2.fromRandomAngle().scale(Math.min(10, 500 / e.disTo(v))))\r\n        // })\r\n        // displace dt \r\n        let vertices = this.dt.getVertices();\r\n        for (let i = 0; i < vertices.length; i++) {\r\n            let e = vertices[i];\r\n            let target = this.p[i];\r\n            let difference = Vector2.from2Pt(v, target);\r\n            let length = difference.length();\r\n            if (length < 5)\r\n                continue;\r\n            e.add(difference.normalize().scale(Math.min(1, 500 / length)));\r\n        }\r\n    }\r\n    disturb(v, strength, range) {\r\n        // displace dt \r\n        this.dt.getVertices().forEach(e => {\r\n            e.add(Vector2.fromRandomAngle().scale(Math.min(strength, range / e.disTo(v))));\r\n        });\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\n\r\n\r\n\r\nconst programs = [\r\n    BounceBallsProgram,\r\n    DelaunayProgram\r\n];\r\nconst meta = new SelectorMetaProgram(programs);\r\nconst canvas = document.getElementById("canvas");\r\nconst geon = new Geon(canvas);\r\ngeon.loadMeta(meta); // program selector\r\ngeon.load(new DelaunayProgram()); // first program to load \r\nconsole.log("everything loaded.");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLy4vc3JjL21hdGgvVmVjdG9yMi50cz9hY2VkIiwid2VicGFjazovL2dlb24vLi9zcmMvMkQvUmVuZGVyZXIyLnRzPzBiNzgiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9HZW9uLnRzP2E3NGQiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Qcm9ncmFtLnRzPzFiMWIiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9TZWxlY3Rvci50cz82YjgyIiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvQm91bmNlQmFsbHNQcm9ncmFtLnRzPzY4ZTAiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9nZW8yL0RlbGF1bmF5LnRzP2MxNTkiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Qcm9ncmFtSGVscGVycy50cz84ZTE0Iiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvRGVsYXVuYXlQcm9ncmFtLnRzPzE4YWMiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9pbmRleC50cz9mZmI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUJBQXVCO0FBQ3ZCLDRCQUE0QjtBQUM1QixpRkFBaUY7QUFDakYsMkJBQTJCO0FBRXBCLE1BQU0sT0FBTztJQUloQixZQUFZLENBQVUsRUFBRSxDQUFVO1FBRTlCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZixDQUFDO0lBRUosZ0NBQWdDO0lBRWhDLE1BQU0sQ0FBQyxRQUFRLENBQUUsRUFBVSxFQUFFLEVBQVUsRUFBRSxLQUFZO1FBRXBELE9BQU8sSUFBSSxPQUFPLENBQ2pCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsR0FBRyxLQUFLLEVBQzlCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENB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Q0FBQyxFQUFFLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ2pFO0lBQ0wsQ0FBQztJQUVELE9BQU8sQ0FBQyxDQUFVLEVBQUUsUUFBZ0IsRUFBRSxLQUFhO1FBRS9DLGVBQWU7UUFDZixJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM5QixDQUFDLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRixDQUFDLENBQUM7SUFDTixDQUFDO0NBQ0o7OztBQzNINkI7QUFFNEI7QUFFUztBQUNOO0FBRTdELE1BQU0sUUFBUSxHQUNkO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7Q0FDbEIsQ0FBQztBQUNGLE1BQU0sSUFBSSxHQUFHLElBQUksbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7QUFFL0MsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQXVCLENBQUM7QUFDdkUsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFhLG1CQUFtQjtBQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDLHlCQUF5QjtBQUczRCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUMiLCJmaWxlIjoiNDAwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXV0aG9yOiBKb3MgRmVlbnN0cmFcclxuLy8gaW5zcGlyYXRpb24gZnJvbSBUaHJlZS5qc1xyXG4vLyBub3RlOiByZWN5Y2xlIHRoZSBjbGFzcyBhcyBtdWNoIGFzIHBvc3NibGUsIGJ1aWxkaW5nIGEgbmV3IGNsYXNzIGlzIGV4cGVuc2l2ZSxcclxuLy8gZXNwZWNpYWxseSBpbiBqYXZhc2NyaXB0XHJcblxyXG5leHBvcnQgY2xhc3MgVmVjdG9yMlxyXG57XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcih4IDogbnVtYmVyLCB5IDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuXHJcblx0Ly8gLS0tIGZhY3RvcmllcyAmIG90aGVyIHN0YXRpY3NcclxuXHJcblx0c3RhdGljIGZyb21MZXJwKCB2MTpWZWN0b3IyLCB2MjpWZWN0b3IyLCBhbHBoYTpudW1iZXIgKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IyKFxyXG5cdFx0XHR2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGEsXHJcblx0XHRcdHYxLnkgKyAoIHYyLnkgLSB2MS55ICkgKiBhbHBoYVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG4gICAgc3RhdGljIGZyb21SYW5kb20oKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHQgICAgTWF0aC5yYW5kb20oKSxcclxuXHRcdCAgICBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbVJhbmRvbUFuZ2xlKCkgOiBWZWN0b3IyXHJcbiAgICB7XHJcblx0XHRsZXQgYWxwaGEgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcblx0XHRcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdE1hdGguY29zKGFscGhhKSxcclxuXHRcdFx0TWF0aC5zaW4oYWxwaGEpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGZyb20yUHQoZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdFx0ZnJvbS54IC0gdG8ueCxcclxuXHRcdFx0ZnJvbS55IC0gdG8ueVxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0c3RhdGljIGZyb21Db3B5KG90aGVyOiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy56ZXJvKCkuY29weShvdGhlcik7XHRcclxuXHR9XHJcblxyXG5cdHN0YXRpYyB6ZXJvKCkgeyByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7IH1cclxuXHJcblxyXG5cdHN0YXRpYyBOYU4oKSB7IHJldHVybiBuZXcgVmVjdG9yMihOYU4sIE5hTik7IH1cclxuXHJcblx0c3RhdGljIGZyb21DaXJjdW1jZW50ZXIoYTogVmVjdG9yMiwgYjogVmVjdG9yMiwgYzogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgYXN1bSA9IGEuc3F1YXJlU3VtKCk7XHJcbiAgICAgICAgY29uc3QgYnN1bSA9IGIuc3F1YXJlU3VtKCk7XHJcbiAgICAgICAgY29uc3QgY3N1bSA9IGMuc3F1YXJlU3VtKCk7XHJcblxyXG4gICAgICAgIC8vIHNvcnQgb2YgY3Jvc3MgcHJvZHVjdFxyXG4gICAgICAgIGxldCBkID0gMiAqIChhLnggKiAoYi55IC0gYy55KSArXHJcbiAgICAgICAgICAgICAgICAgICAgIGIueCAqIChjLnkgLSBhLnkpICsgXHJcbiAgICAgICAgICAgICAgICAgICAgIGMueCAqIChhLnkgLSBiLnkpKTtcclxuXHJcbiAgICAgICAgLy8gaWYgdGhpcyB0cmlhbmdsZSBoYXMgbm8gY2lyY3VtY2VudGVyPyBcclxuICAgICAgICBpZiAoZCA8IDAuMDAwMDAxKVxyXG5cdFx0XHRyZXR1cm4gVmVjdG9yMi5OYU4oKTsgXHJcblxyXG5cdFx0bGV0IHggPSAoYXN1bSAqIChiLnkgLSBjLnkpICsgXHJcblx0XHRcdFx0IGJzdW0gKiAoYy55IC0gYS55KSArIFxyXG5cdFx0XHRcdCBjc3VtICogKGEueSAtIGIueSkpIC8gZDtcclxuXHRcdGxldCB5ID0gKGFzdW0gKiAoYy54IC0gYi54KSArIFxyXG5cdFx0XHRcdCBic3VtICogKGEueCAtIGMueCkgKyBcclxuXHRcdFx0XHQgY3N1bSAqIChiLnggLSBhLngpKSAvIGQ7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih4LHkpO1xyXG4gICAgfVxyXG5cclxuXHRzdGF0aWMgZ2V0U2lnbihhOlZlY3RvcjIsIGI6VmVjdG9yMiAsIGM6VmVjdG9yMikgOiBudW1iZXJcclxuXHR7XHJcblx0XHQvLyB0ZXN0IGhhbGYgcGxhbmUgcmVsYXRpb25zaGlwXHJcblx0XHQvLyA8MCA6IHBvaW50IG9uIGZpcnN0IGhhbGZcclxuXHRcdC8vIDAgIDogcG9pbnRzIGNvbGxpbmVhclxyXG5cdFx0Ly8gPjAgOiBwb2ludCBvbiBzZWNvbmQgaGFsZiBcclxuXHRcdHJldHVybiAoYS54IC0gYy54KSAqIChiLnkgLSBjLnkpIC0gXHJcblx0XHQgICAgICAgKGIueCAtIGMueCkgKiAoYS55IC0gYy55KTtcclxuXHR9XHJcblxyXG5cdC8vIC0tLSBiYXNpY3NcclxuXHJcblx0c2V0KHg6bnVtYmVyLCB5Om51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0dGhpcy54ID0geDtcclxuXHRcdHRoaXMueSA9IHk7XHJcblx0XHRyZXR1cm4gdGhpcyBcdFx0XHJcblx0fVxyXG5cclxuXHRyb3VnaGx5RXF1YWxzKHY6IFZlY3RvcjIsIHRvbDpudW1iZXIpIDogYm9vbGVhblxyXG5cdHtcclxuXHRcdHJldHVybiAoTWF0aC5hYnModGhpcy54IC0gdi54KSA8IHRvbCAmJiBcclxuXHRcdFx0XHRNYXRoLmFicyh0aGlzLnkgLSB2LnkpIDwgdG9sKVxyXG5cdH1cclxuXHJcblx0ZXF1YWxzKHY6VmVjdG9yMikgOiBib29sZWFuXHJcblx0e1xyXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSApO1xyXG5cdH1cclxuXHJcbiAgICB0b1N0cmluZygpIDogc3RyaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGBWZWN0b3IzKCR7dGhpcy54fSwgJHt0aGlzLnl9KWA7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvcHkodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ID0gdi54O1xyXG4gICAgICAgIHRoaXMueSA9IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblx0Ly8gLS0tIG1hdGhcclxuXHJcbiAgICBhZGQodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ICs9IHYueDtcclxuICAgICAgICB0aGlzLnkgKz0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN1Yih2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggLT0gdi54O1xyXG4gICAgICAgIHRoaXMueSAtPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG11bCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggKj0gdi54O1xyXG4gICAgICAgIHRoaXMueSAqPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2NhbGUodjogbnVtYmVyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggKj0gdjtcclxuICAgICAgICB0aGlzLnkgKj0gdjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBkaXYodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54IC89IHYueDtcclxuICAgICAgICB0aGlzLnkgLz0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdnNjYWxlKHY6IG51bWJlcikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54IC89IHY7XHJcbiAgICAgICAgdGhpcy55IC89IHY7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbWluKG90aGVyOiBWZWN0b3IyKSA6IFZlY3RvcjIgXHJcbiAgICB7XHJcblx0XHR0aGlzLnggPSBNYXRoLm1pbiggdGhpcy54LCBvdGhlci54ICk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1pbiggdGhpcy55LCBvdGhlci55ICk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdG1heChvdGhlcjogVmVjdG9yMikgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIG90aGVyLnggKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIG90aGVyLnkgKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0Y2xhbXAobWluOiBWZWN0b3IyLCBtYXg6IFZlY3RvcjIpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHQvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZVxyXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdGhpcy55KSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdGNsYW1wU2NhbGFyKG1pblZhbDpudW1iZXIsIG1heFZhbDpudW1iZXIpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbihtYXhWYWwsIHRoaXMueCkpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4obWF4VmFsLCB0aGlzLnkpKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0Y2xhbXBMZW5ndGgobWluOm51bWJlciwgbWF4Om51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0Y29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcclxuXHRcdHJldHVybiB0aGlzLmRpdnNjYWxlKCBsZW5ndGggfHwgMSApLnNjYWxlKCBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbGVuZ3RoKSkpO1xyXG5cdH1cclxuXHJcblx0Zmxvb3IoKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRjZWlsKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJvdW5kKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0cm91bmRUb1plcm8oKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gKHRoaXMueCA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xyXG5cdFx0dGhpcy55ID0gKHRoaXMueSA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRuZWdhdGUoKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XHJcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0ZG90KCB2OlZlY3RvcjIgKSA6IG51bWJlciBcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xyXG5cdH1cclxuXHJcblx0Y3Jvc3MoIHY6VmVjdG9yMiApIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueSAtIHRoaXMueSAqIHYueDsgLy8gPz8/P1xyXG5cdH1cclxuXHJcblx0c3F1YXJlU3VtKCkgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG5cdH1cclxuXHJcblx0bGVuZ3RoKCkgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcblx0fVxyXG5cclxuXHRtYW5oYXQoKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54ICkgKyBNYXRoLmFicyggdGhpcy55ICk7XHJcblx0fVxyXG5cclxuXHRub3JtYWxpemUoKSA6IFZlY3RvcjJcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXZzY2FsZSggdGhpcy5sZW5ndGgoKSB8fCAxICk7XHJcblx0fVxyXG5cclxuXHRhbmdsZSgpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0Ly8gY29tcHV0ZXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgd2l0aCByZXNwZWN0IHRvIHRoZSBwb3NpdGl2ZSB4LWF4aXNcclxuXHRcdGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMiggLSB0aGlzLnksIC0gdGhpcy54ICkgKyBNYXRoLlBJO1xyXG5cdFx0cmV0dXJuIGFuZ2xlO1xyXG5cclxuXHR9XHJcblxyXG5cdGRpc1RvKHY6IFZlY3RvcjIpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc1RvU3F1YXJlZCh2KSk7XHJcblx0fVxyXG5cclxuXHRkaXNUb1NxdWFyZWQodjogVmVjdG9yMikgOiBudW1iZXJcclxuXHR7XHJcblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgXHJcblx0XHRcdCAgZHkgPSB0aGlzLnkgLSB2Lnk7XHJcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XHJcblx0fVxyXG5cclxuXHRkaXNUb01hbmhhdCh2OiBWZWN0b3IyKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLmFicyh0aGlzLnggLSB2LngpICsgTWF0aC5hYnModGhpcy55IC0gdi55KTtcclxuXHR9XHJcblxyXG5cdHNldExlbmd0aChsZW5ndGg6IG51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkuc2NhbGUobGVuZ3RoKTtcclxuXHR9XHJcblxyXG5cdGxlcnAob3RoZXI6IFZlY3RvcjIsIGFscGhhOm51bWJlcikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0dGhpcy54ICs9ICggb3RoZXIueCAtIHRoaXMueCApICogYWxwaGE7XHJcblx0XHR0aGlzLnkgKz0gKCBvdGhlci55IC0gdGhpcy55ICkgKiBhbHBoYTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufSIsIi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXHJcblxyXG5pbXBvcnQgeyBMaW5lMiB9IGZyb20gXCIuLi9nZW8yL2xpbmUyXCI7XHJcbmltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuLy8gb25seSByZW5kZXJlciB0YWxrcyB0byBjdHggJiBjYW52YXMuXHJcbi8vIGRvIGFsbCB0aGUgY2FtZXJhIHdvcmsgaW4gaGVyZVxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIyXHJcbntcclxuICAgIHB1YmxpYyBvZmZzZXQ6IFZlY3RvcjI7XHJcbiAgICBwdWJsaWMgc2NhbGU6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBnZW9uOiBHZW9uO1xyXG5cclxuICAgIC8vIHZpc3VhbHNcclxuICAgIHByaXZhdGUgcG9pbnRzaXplID0gNTtcclxuICAgIHByaXZhdGUgcG9pbnRjb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG5cclxuICAgIHByaXZhdGUgbGluZWNvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICBwcml2YXRlIGZpbGxjb2xvciA9IFwiIzY2NjY2NlwiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5nZW9uID0gZ2VvbjtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5wb2ludGNvbG9yO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5saW5lY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IFZlY3RvcjIuemVybygpO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSAxO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMucG9pbnRjb2xvcjtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMubGluZWNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE8gZml4IHRoaXMgb25jZSBpIGJ1aWxkIG1hdHJpY2VzXHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseU9mZnNldCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdi5jbG9uZSgpLmFkZCh0aGlzLm9mZnNldCkuc2NhbGUodGhpcy5zY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJldmVydE9mZnNldCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdi5jbG9uZSgpLnNjYWxlKDEgLyB0aGlzLnNjYWxlKS5zdWIodGhpcy5vZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgY2xlYXJzIHdpdGggYSB0cmFuc3BhcmFudCBsYXllciwgZm9yIGVhc3kgZGVsYXllZCBlZmZlY3RcclxuICAgIGNsZWFyRmFkZShhbHBoYTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGFkanVzdCBjb2xvciBzZXR0aW5nc1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jdHguZmlsbFN0eWxlO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiIzAwMDAwMGZmXCI7XHJcbiAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSBhbHBoYTsgIFxyXG5cclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmdlb24ud2lkdGgsIHRoaXMuZ2Vvbi5oZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyByZXNldCBjb2xvciBzZXR0aW5ncyBcclxuICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IDE7ICBcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZ2Vvbi53aWR0aCwgdGhpcy5nZW9uLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnQoeDogbnVtYmVyLCB5OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdG9kbyBjYW1lcmFcclxuICAgICAgICAvLyBUT0RPIGRvbnQgZHJhdyBpZiBvZmYgc2NyZWVuXHJcblxyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmFyYyh4LCB5LCB0aGlzLnBvaW50c2l6ZSwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRzKHBvaW50czogVmVjdG9yMltdKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMuYXBwbHlPZmZzZXQocG9pbnRzW2ldKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguYXJjKHYueCwgdi55LCB0aGlzLnBvaW50c2l6ZSwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICB9XHJcblxyXG4gICAgbGluZShsaW5lOiBMaW5lMilcclxuICAgIHtcclxuICAgICAgICAvLyBUT0RPIGRvbnQgZHJhdyBpZiBvZmYgc2NyZWVuXHJcblxyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhsaW5lLmZyb20ueCwgbGluZS5mcm9tLnkpO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhsaW5lLnRvLngsIGxpbmUudG8ueSk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGluZVNlZ21lbnRzKHZlcnRpY2VzOiBWZWN0b3IyW10pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBpaSA9IGkgKyAxO1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLmFwcGx5T2Zmc2V0KHZlcnRpY2VzW2ldKTtcclxuICAgICAgICAgICAgbGV0IHYyID0gdGhpcy5hcHBseU9mZnNldCh2ZXJ0aWNlc1tpaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odjEueCwgdjEueSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2Mi54LCB2Mi55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2lyY2xlcyhwb2ludHM6IFZlY3RvcjJbXSwgcmFkaWk6IG51bWJlcltdKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMuYXBwbHlPZmZzZXQocG9pbnRzW2ldKTtcclxuICAgICAgICAgICAgbGV0IHIgPSByYWRpaVtpXSAqIHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmFyYyh2LngsIHYueSwgciwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfSBcclxuICAgIH0gXHJcblxyXG4gICAgcmVjdGFuZ2xlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9seWdvbigpIFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlcmVyMiB9IGZyb20gJy4vMkQvUmVuZGVyZXIyJztcclxuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4vcHJvZ3JhbXMvUHJvZ3JhbSc7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL21hdGgvVmVjdG9yMic7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL21hdGgvVmVjdG9yMyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2VvblxyXG57XHJcbiAgICBwcm9ncmFtPzogUHJvZ3JhbTtcclxuICAgIG1ldGE/OiBQcm9ncmFtO1xyXG4gICAgbG9vcGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHRpY2s6IG51bWJlcjtcclxuICAgIG9sZFRpbWU6IG51bWJlcjtcclxuICAgIG5ld1RpbWU6IG51bWJlcjtcclxuICAgIFxyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgYm91bmRzOiBWZWN0b3IyO1xyXG5cclxuICAgIHByaXZhdGUga2V5c0Rvd246IElLZXlzID0ge307XHJcbiAgICBwcml2YXRlIGtleXNQcmVzc2VkOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIG1vdXNlOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICB3b3JsZE1vdXNlOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICBtb3VzZUxlZnREb3duOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBtb3VzZUxlZnRQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG1vdXNlTGVmdFByZXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBtb3VzZVJpZ2h0RG93bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbW91c2VSaWdodFByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbW91c2VSaWdodFByZXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBtb3VzZU1pZGRsZURvd246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIG1vdXNlTWlkZGxlUHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtb3VzZU1pZGRsZVByZXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICByOiBSZW5kZXJlcjJcclxuXHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudClcclxuICAgIHtcclxuICAgICAgICAvLyB3aW5kb3dcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLndpZHRoID0gMDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBuZXcgVmVjdG9yMih0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcclxuICAgICAgICB0aGlzLnNldFdpbmRvdygpO1xyXG4gICAgICAgIC8vIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMuc2V0V2luZG93O1xyXG5cclxuICAgICAgICAvLyByZW5kZXJpbmdcclxuICAgICAgICB0aGlzLnIgPSBuZXcgUmVuZGVyZXIyKGNhbnZhcywgdGhpcyk7ICBcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lXHJcbiAgICAgICAgdGhpcy50aWNrID0gMDtcclxuICAgICAgICB0aGlzLm9sZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubmV3VGltZSA9IHRoaXMub2xkVGltZTtcclxuXHJcbiAgICAgICAgLy8gbW91c2VcclxuICAgICAgICBjYW52YXMub25tb3VzZW1vdmUgPSB0aGlzLnNldE1vdXNlUG9zLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY2FudmFzLm9ubW91c2Vkb3duID0gdGhpcy5zZXRNb3VzZURvd24uYmluZCh0aGlzKTtcclxuICAgICAgICBjYW52YXMub25tb3VzZXVwID0gdGhpcy5zZXRNb3VzZVVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY2FudmFzLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbihlKSB7IFxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8ga2V5Ym9hcmRcclxuICAgICAgICBjYW52YXMub25rZXlkb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcclxuICAgICAgICBjYW52YXMub25rZXlwcmVzcyA9IHRoaXMub25LZXlQcmVzc2VkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgY2FudmFzLm9ua2V5dXAgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDIyMyA7aSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzRG93bltpXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FudmFzLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uXHJcblxyXG4gICAgcHVibGljIGxvYWQoZ2FtZTogUHJvZ3JhbSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLnIucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBnYW1lO1xyXG4gICAgICAgIGdhbWUuc3RhcnQodGhpcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5sb29waW5nKVxyXG4gICAgICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZE1ldGEocHJvZ3JhbTogUHJvZ3JhbSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1ldGEgPSBwcm9ncmFtO1xyXG4gICAgICAgIHByb2dyYW0uc3RhcnQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIElzS2V5RG93bihrZXk6IHN0cmluZykgOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25ba2V5XTsgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpIDogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNQcmVzc2VkLmluY2x1ZGVzKGtleSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBvbktleURvd24oZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHsgXHJcbiAgICAgICAgaWYgKHRoaXMua2V5c0Rvd25bZS5rZXldID09IHRydWUpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmxvZyhlLmtleSk7XHJcbiAgICAgICAgdGhpcy5rZXlzRG93bltlLmtleS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZC5wdXNoKGUua2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25LZXlVcChlOiBLZXlib2FyZEV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMua2V5c0Rvd25bZS5rZXkudG9Mb3dlckNhc2UoKV0gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25LZXlQcmVzc2VkKGU6IEtleWJvYXJkRXZlbnQpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLlxyXG5cclxuICAgIHByaXZhdGUgbG9vcCgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sb29waW5nID0gdHJ1ZTtcclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHRoaXM6IEdlb24pIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRpbWVcclxuICAgICAgICAgICAgdGhpcy5uZXdUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy50aWNrID0gKHRoaXMubmV3VGltZSAtIHRoaXMub2xkVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMub2xkVGltZSA9IHRoaXMubmV3VGltZTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTGVmdFByZXNzZWQgPSAgKHRoaXMubW91c2VMZWZ0UHJldiAhPSB0aGlzLm1vdXNlTGVmdERvd24pICYmIHRoaXMubW91c2VMZWZ0RG93bjtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVJpZ2h0UHJlc3NlZCA9ICAodGhpcy5tb3VzZVJpZ2h0UHJldiAhPSB0aGlzLm1vdXNlUmlnaHREb3duKSAmJiB0aGlzLm1vdXNlUmlnaHREb3duO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlUHJlc3NlZCA9ICAodGhpcy5tb3VzZU1pZGRsZVByZXYgIT0gdGhpcy5tb3VzZU1pZGRsZURvd24pICYmIHRoaXMubW91c2VNaWRkbGVEb3duO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnRQcmV2ID0gdGhpcy5tb3VzZUxlZnREb3duXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodFByZXYgPSB0aGlzLm1vdXNlUmlnaHREb3duXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VNaWRkbGVQcmV2ID0gdGhpcy5tb3VzZU1pZGRsZURvd25cclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE8gOiBkb250IHVwZGF0ZSBpZiBub3RoaW5nIG1vdmVkICg/KVxyXG4gICAgICAgICAgICB0aGlzLnByb2dyYW0hLnVwZGF0ZSh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuci5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyYW0hLmRyYXcodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgbWV0YXByb2dyYW0gYWZ0ZXJ3YXJkc1xyXG4gICAgICAgICAgICB0aGlzLm1ldGE/LnVwZGF0ZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tZXRhPy5kcmF3KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVmcmVzaCBrZXlwcmVzc2VzXHJcbiAgICAgICAgICAgIHRoaXMua2V5c1ByZXNzZWQgPSBbXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXAuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlUG9zKGU6IE1vdXNlRXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdGhpcyBpcyBhIGJpdCBtZXNzeSwgQlVULCBtdWx0aXBseSBieSBjYW1lcmEgcGFyYW1ldGVyc1xyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgVmVjdG9yMihlLmNsaWVudFgsIGUuY2xpZW50WSlcclxuICAgICAgICB0aGlzLndvcmxkTW91c2UgPSB0aGlzLnIucmV2ZXJ0T2Zmc2V0KHRoaXMubW91c2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TW91c2VVcChlOiBNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5idXR0b25zO1xyXG4gICAgICAgIGlmIChjb2RlIDwgNCkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA8IDIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVJpZ2h0RG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA8IDEpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gZmFsc2U7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlRG93bihlOiBNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5idXR0b25zO1xyXG4gICAgICAgIGlmIChjb2RlID49IDQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZSAtPSA0O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlRG93biA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlID49IDIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZSAtPSAyO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlUmlnaHREb3duID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPj0gMSkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb2RlIC09IDE7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0RG93biA9IHRydWU7XHJcbiAgICAgICAgfSAgXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRXaW5kb3coKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2V0dGluZyB3aW5kb3cuLi5cIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCAgPSB0aGlzLmNhbnZhcy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IG5ldyBWZWN0b3IyKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJS2V5cyBcclxue1xyXG4gICAgW2tleTogc3RyaW5nXSA6IGJvb2xlYW5cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2dyYW1cclxue1xyXG4gICAgc3RhcnQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyAgaW5pdCBnZW9tZXRyeSBcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnlcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZHJhdyBnZW9tZXRyeVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBkZWFsbG9jYXRlID8gY2xlYW4/XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGp1c3QgYSBmbGFnIGZvciBub3dcclxuZXhwb3J0IGNsYXNzIE1ldGFQcm9ncmFtIGV4dGVuZHMgUHJvZ3JhbVxyXG57XHJcblxyXG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IE1ldGFQcm9ncmFtLCBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBMaW5lMiB9IGZyb20gXCIuLi9nZW8yL2xpbmUyXCI7XHJcblxyXG4vLyBtZXRhcHJvZ3JhbVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdG9yTWV0YVByb2dyYW0gZXh0ZW5kcyBNZXRhUHJvZ3JhbVxyXG57XHJcbiAgICBwcm9ncmFtczogYW55W107XHJcbiAgICBjdXJyZW50OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGlzQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBhbmltYXRpb25Db3VudGVyID0gMTtcclxuICAgIGNvbWViYWNrID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvZ3JhbXM6IGFueVtdKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtcyA9IHByb2dyYW1zO1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW1zLmxlbmd0aCA9PSAwKSB0aHJvdyBcIk5lZWQgYXQgbGVhc3QgMSBwcm9ncmFtIVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtc1t0aGlzLmN1cnJlbnRdXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gbGlzdGVuIGZvciBrZXlwcmVzc2VzIFxyXG4gICAgICAgIC8vIHN0dXBpZCBpIGtub3cuIE1vcmUgc3BlY2lmaWMgbGlzdGVuaW5nIHdvdWxkIGJlIGJldHRlci5cclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDEwOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoZ2Vvbi5Jc0tleVByZXNzZWQoaS50b1N0cmluZygpKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlU3dhcFByb2dyYW0oaSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gMC4wMTU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmltYXRpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Db3VudGVyID4gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdlb24uci5jbGVhckZhZGUoMSAtIHRoaXMuYW5pbWF0aW9uQ291bnRlcik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkNvdW50ZXIgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21lYmFjaylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ZXIgKz0gc3BlZWQ7XHJcbiAgICAgICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQ291bnRlciAtPSBzcGVlZDtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ZXIgKz0gMC4wMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tZWJhY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zd2FwUHJvZ3JhbShnZW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIGRyYXcgdHJhbnNpdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlU3dhcFByb2dyYW0obnVtOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKG51bSA8IDAgfHwgbnVtID49IHRoaXMucHJvZ3JhbXMubGVuZ3RoKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gcHJvZ3JhbSBbXCIgKyBudW0udG9TdHJpbmcoKSArIFwiXS5cIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzd2FwcGluZyB0byBwcm9ncmFtIFwiICsgbnVtLnRvU3RyaW5nKCkpOyAgXHJcblxyXG4gICAgICAgIC8vIHByZXBhcmUgZm9yIGFuaW1hdGlvblxyXG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bTtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNvbWViYWNrID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25Db3VudGVyID0gMTtcclxuXHJcbiAgICAgICAgLy8gbG9hZFxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBmYWRlIGluXHJcbiAgICB9XHJcblxyXG4gICAgc3dhcFByb2dyYW0oZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBnZW9uLmxvYWQobmV3IHRoaXMucHJvZ3JhbXNbdGhpcy5jdXJyZW50XSgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJvdW5jZUJhbGxzUHJvZ3JhbSBleHRlbmRzIFByb2dyYW1cclxue1xyXG4gICAgcG9pbnRzOiBWZWN0b3IyW10gPSBbXTtcclxuICAgIHZlY3RvcnM6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICAgIGNvdW50ID0gMTAwO1xyXG4gICAgc3BlZWQgPSAyO1xyXG5cclxuICAgIHN0YXJ0KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSBuZXcgQXJyYXkodGhpcy5jb3VudCk7XHJcbiAgICAgICAgdGhpcy52ZWN0b3JzID0gbmV3IEFycmF5KHRoaXMuY291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuY291bnQ7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gVmVjdG9yMi5mcm9tUmFuZG9tKCkubXVsKGdlb24uYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy52ZWN0b3JzW2ldID0gVmVjdG9yMi5mcm9tUmFuZG9tKCkuc3ViKG5ldyBWZWN0b3IyKDAuNSwgMC41KSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZWQgYSBidW5jaCBvZiBwb2ludHNcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBvaW50c1tpXTsgXHJcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy52ZWN0b3JzW2ldXHJcblxyXG4gICAgICAgICAgICBpZiAoZ2Vvbi5tb3VzZUxlZnREb3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNydXB0IHRoZSB2ZWN0b3IsIGJhc2VkIG9uIGhvdyBjbG9zZWJ5IHRoZSBtb3VzZSBpc1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpciA9IFZlY3RvcjIuZnJvbTJQdChwLCBnZW9uLm1vdXNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBkaXIubGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICBkaXIubm9ybWFsaXplKCkuc2NhbGUoTWF0aC5taW4oNCwgMTAwIC8gbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICB2LmFkZChkaXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwLmFkZCh2KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSB2Lmxlbmd0aCgpXHJcbiAgICAgICAgICAgIGlmIChsZW5ndGggPiB0aGlzLnNwZWVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2LnNldExlbmd0aChsZW5ndGggKiAwLjk5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYm91bmNlIGF0IGVkZ2VcclxuICAgICAgICAgICAgaWYgKHAueCA8IDAgfHwgcC54ID4gZ2Vvbi5ib3VuZHMueCkgdi54ID0gLXYueDtcclxuICAgICAgICAgICAgaWYgKHAueSA8IDAgfHwgcC55ID4gZ2Vvbi5ib3VuZHMueSkgdi55ID0gLXYueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIG1vdXNlIGlzIG5lYXJieSwgbW92ZSBhd2F5IGZyb20gaXRcclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZVJpZ2h0UHJlc3NlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHMucHVzaChWZWN0b3IyLmZyb21SYW5kb20oKS5tdWwoZ2Vvbi5ib3VuZHMpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKFZlY3RvcjIuZnJvbVJhbmRvbSgpLnN1YihuZXcgVmVjdG9yMigwLjUsIDAuNSkpLm5vcm1hbGl6ZSgpKTtcclxuICAgICAgICAgICAgfSAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhnZW9uOiBHZW9uKVxyXG4gICAgeyBcclxuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKHAgPT4gZ2Vvbi5yLnBvaW50KHAueCwgcC55KSk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgYXQgbW91c2UgcG9zaXRpb247XHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VMZWZ0RG93bilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdlb24uci5wb2ludChnZW9uLm1vdXNlLngsIGdlb24ubW91c2UueSk7XHJcbiAgICAgICAgfSAgXHJcbiAgICB9XHJcbn0iLCIvLyBhdXRob3IgOiBKb3MgRmVlbnN0cmFcclxuLy8gVE9ETzogZXh0ZW5kIGZyb20gYSBnZW5lcmljIHRyaWFuZ3VsYXRpb24/IG1pZ2h0IGJlIG5pY2UgdG8gaGF2ZVxyXG5cclxuaW1wb3J0IHsgTGluZTIgfSBmcm9tIFwiLi9saW5lMlwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yM1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGF1bmF5IFxyXG57XHJcbiAgICBwcml2YXRlIHB0czogVmVjdG9yMltdO1xyXG4gICAgcHJpdmF0ZSB0cnM6IG51bWJlcltdW107IC8vIEkgV0FOVCBJTlRFR0VSUyFcclxuXHJcbiAgICBwcml2YXRlIGNjOiBWZWN0b3IyW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucHRzID0gW107XHJcbiAgICAgICAgdGhpcy50cnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNjID0gW107XHJcblxyXG4gICAgICAgIC8vIGluaXQgYmlnIGJhc2UgdHJpYW5nbGVcclxuICAgICAgICB0aGlzLnB0cy5wdXNoKG5ldyBWZWN0b3IyKC0xMDAwMCwtMTAwMDApKTtcclxuICAgICAgICB0aGlzLnB0cy5wdXNoKG5ldyBWZWN0b3IyKDEwMDAwLC0xMDAwMCkpO1xyXG4gICAgICAgIHRoaXMucHRzLnB1c2gobmV3IFZlY3RvcjIoMCwgMTAwMDApKTtcclxuICAgICAgICB0aGlzLnRycy5wdXNoKFswLCAxLCAyLCAtMSwgLTEgLCAtMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLiBHZXR0ZXJzIFxyXG5cclxuICAgIHB1YmxpYyBnZXRWZXJ0aWNlcygpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFZGdlcygpIDogVmVjdG9yMltdXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGVkZ2VzOiBWZWN0b3IyW10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCB0ciBvZiB0aGlzLnRycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBhID0gdGhpcy5wdHNbdHJbMF1dO1xyXG4gICAgICAgICAgICBsZXQgYiA9IHRoaXMucHRzW3RyWzFdXTtcclxuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLnB0c1t0clsyXV07XHJcblxyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGEpO1xyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGIpO1xyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGEpO1xyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGMpO1xyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGIpO1xyXG4gICAgICAgICAgICBlZGdlcy5wdXNoKGMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDQygpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHtjYzogdGhpcy5jYywgcjogdGhpcy5jYy5tYXAoKGMsIGkpID0+IGMuZGlzVG8odGhpcy5wdHNbdGhpcy50cnNbaV1bMF1dKSl9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVDQygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jYyA9IHRoaXMudHJzLm1hcCh0ciA9PiBcclxuICAgICAgICAgICAgVmVjdG9yMi5mcm9tQ2lyY3VtY2VudGVyKHRoaXMucHRzW3RyWzBdXSwgdGhpcy5wdHNbdHJbMV1dLCB0aGlzLnB0c1t0clsyXV0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Vm9yb25vaUVkZ2VzKGNhbGN1bGF0ZUNDID0gZmFsc2UpIDogVmVjdG9yMltdXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGVkZ2VzOiBWZWN0b3IyW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGNhbGN1bGF0ZUNDIHx8IHRoaXMuY2MubGVuZ3RoICE9IHRoaXMudHJzLmxlbmd0aClcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVDQygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBlciBuYiByZWxhdGlvbiA6IGlmIGl0cyBub3QgLTEgOiBidWlsZCBhbiBlZGdlIGJldHdlZW4gbmIgY2Mncy4gXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLnRycy5sZW5ndGggO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0cmlhbmdsZSA9IHRoaXMudHJzW2ldO1xyXG4gICAgICAgICAgICBmb3IobGV0IGlpID0gMzsgaWkgPCA2OyBpaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmIgPSB0cmlhbmdsZVtpaV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmIgPT0gLTEpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZWRnZXMucHVzaCh0aGlzLmNjW2ldKTtcclxuICAgICAgICAgICAgICAgIGVkZ2VzLnB1c2godGhpcy5jY1tuYl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlZGdlcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gLi4uIEludGVyZmFjZVxyXG5cclxuICAgIHB1YmxpYyBJbnNlcnQoaW5zZXJ0aW9uOiBWZWN0b3IyKSA6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICAvLyBkb250IGluc2VydCBpZiB0b28gc2ltaWxhciB0byBleGlzdGluZyBcclxuICAgICAgICBpZiAodGhpcy5wdHMuc29tZSh2ID0+IGluc2VydGlvbi5yb3VnaGx5RXF1YWxzKHYsIDAuMSkpKVxyXG4gICAgICAgICAgICB7IGNvbnNvbGUubG9nKFwidG8gY2xvc2UgdG8gZXhpc3RpbmcgcG9pbnRcIik7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgICAgICAvLyBhZGQgaXRcclxuICAgICAgICBjb25zdCBpbklEID0gdGhpcy5wdHMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMucHRzLnB1c2goaW5zZXJ0aW9uKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBnZXQgdHJpYW5nbGUgYW5kIElEIHZhbHVlc1xyXG4gICAgICAgIGNvbnN0IHRySUQgPSB0aGlzLnNlbGVjdFRyaWFuZ2xlKGluc2VydGlvbik7XHJcbiAgICAgICAgaWYgKHRySUQgPT0gLTEpXHJcbiAgICAgICAgICAgIHsgY29uc29sZS5sb2coXCJ0cmlhbmdsZSB3YWxrIGZhaWxlZFwiKTsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyc1t0cklEXTsgIFxyXG5cclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9hX0lEID0gdHJbMF07XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfYl9JRCA9IHRyWzFdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2NfSUQgPSB0clsyXTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfYmNJRCA9IHRyWzNdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2NhSUQgPSB0cls0XTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9hYklEID0gdHJbNV07XHJcblxyXG4gICAgICAgIGNvbnN0IGFiSUQgPSB0cklEO1xyXG4gICAgICAgIGNvbnN0IGJjSUQgPSB0aGlzLnRycy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY2FJRCA9IHRoaXMudHJzLmxlbmd0aCArIDE7XHJcblxyXG4gICAgICAgIC8vIGVkaXQgMSB0cmlhbmdsZSwgYWRkIDIgbmV3IG9uZXMgXHJcbiAgICAgICAgdGhpcy50cnNbdHJJRF0gPSBbb3JpZ2luYWxfYV9JRCwgb3JpZ2luYWxfYl9JRCwgaW5JRCwgYmNJRCwgY2FJRCwgb3JpZ2luYWxfYWJJRF07IFxyXG4gICAgICAgIHRoaXMudHJzLnB1c2goICAgW29yaWdpbmFsX2JfSUQsIG9yaWdpbmFsX2NfSUQsIGluSUQsIGNhSUQsIGFiSUQsIG9yaWdpbmFsX2JjSURdKTtcclxuICAgICAgICB0aGlzLnRycy5wdXNoKCAgIFtvcmlnaW5hbF9jX0lELCBvcmlnaW5hbF9hX0lELCBpbklELCBhYklELCBiY0lELCBvcmlnaW5hbF9jYUlEXSk7XHJcblxyXG4gICAgICAgIC8vIGZpeCB0b3BvbG9neVxyXG4gICAgICAgIHRoaXMucmVwbGFjZU5laWdoYm9yKG9yaWdpbmFsX2JjSUQsIHRySUQsIGJjSUQpO1xyXG4gICAgICAgIHRoaXMucmVwbGFjZU5laWdoYm9yKG9yaWdpbmFsX2NhSUQsIHRySUQsIGNhSUQpO1xyXG4gICAgICAgIHRoaXMubWFrZURlbGF1bmF5KFthYklELCBiY0lELCBjYUlEXSwgaW5JRClcclxuXHJcbiAgICAgICAgLy8gc3VjY2VzIVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLiBVdGlsXHJcblxyXG4gICAgLy8gc3RvcmUgdGhlIGxhc3QgdHJpYW5nbGVcclxuICAgIHByaXZhdGUgd2Fsa0N1cnNvciA9IDA7XHJcbiAgICBwcml2YXRlIHNlbGVjdFRyaWFuZ2xlKHRhcmdldDogVmVjdG9yMikgOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICAvLyBzZWxlY3QgYSB0cmlhbmdsZSBiYXNlZCBvbiBhIHdhbGtpbmcgdHJpYW5nbGUgYWxnb3JpdGhtXHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zID0gW1swLDEsMl0sIFsxLDIsMF0sIFsyLDAsMV1dIFxyXG4gICAgICAgIGxldCB0cklEID0gdGhpcy53YWxrQ3Vyc29yO1xyXG4gICAgICAgIGZvciAobGV0IF8gPSAwOyBfIDwgdGhpcy50cnMubGVuZ3RoOyBfKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbWJpbmF0aW9ucylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRySUQgPT0gLTEpIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIGxldCBzaWduID0gVmVjdG9yMi5nZXRTaWduKFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCwgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdHNbdGhpcy50cnNbdHJJRF1bY1swXV1dLCBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB0c1t0aGlzLnRyc1t0cklEXVtjWzFdXV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNpZ24gPCAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRySUQgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUodHJJRCwgdGhpcy50cnNbdHJJRF1bY1syXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjWzBdID09IDIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxrQ3Vyc29yID0gdHJJRDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJJRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdG9vIG1hbnkgc3RlcHMgaGF2ZSBiZWVuIHRha2VuXHJcbiAgICAgICAgdGhpcy53YWxrQ3Vyc29yID0gMDtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtYWtlRGVsYXVuYXkodHJJRFM6IG51bWJlcltdLCBwSUQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGZsaXAgdW50aWwgZ3JhcGggaXMgZGVsYXVuYXlcclxuICAgICAgICB3aGlsZSh0cklEUy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRySUQgPSB0cklEUy5wb3AoKSE7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IHRoaXMudHJzW3RySURdO1xyXG4gICAgICAgICAgICBsZXQgbmJJRCA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZSh0cklELCBwSUQpO1xyXG4gICAgICAgICAgICBpZiAobmJJRCA9PSAtMSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgcUlEID0gdGhpcy5nZXROZWlnaGJvclBvaW50KG5iSUQsIHRySUQpO1xyXG4gICAgICAgICAgICBsZXQgcSA9IHRoaXMucHRzW3FJRF07XHJcbiAgICAgICAgICAgIGxldCBjID0gVmVjdG9yMi5mcm9tQ2lyY3VtY2VudGVyKHRoaXMucHRzW3RyWzBdXSwgdGhpcy5wdHNbdHJbMV1dLCB0aGlzLnB0c1t0clsyXV0pO1xyXG4gICAgICAgICAgICBpZiAoYy5lcXVhbHMoVmVjdG9yMi5OYU4oKSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcmFkaXVzID0gYy5kaXNUbyh0aGlzLnB0c1t0clswXV0pXHJcbiAgICAgICAgICAgIGlmIChjLmRpc1RvKHEpIDwgcmFkaXVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBmbGlwIVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvaW50cyBwLCBxLCByIGFuZCBzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBySUQgPSB0clswXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNJRCA9IHRyWzFdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBmb3JlaWduIG5laWdoYm9ycyBcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZuYl8xID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKHRySUQsIHJJRCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbmJfMiA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZSh0cklELCBzSUQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm5iXzMgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUobmJJRCwgcklEKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZuYl80ID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKG5iSUQsIHNJRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlTmVpZ2hib3IoZm5iXzEsIHRySUQsIG5iSUQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlTmVpZ2hib3IoZm5iXzQsIG5iSUQsIHRySUQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudHJzW3RySURdID0gW3JJRCwgcUlELCBwSUQsIG5iSUQsIGZuYl8yLCBmbmJfNF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyc1tuYklEXSA9IFtxSUQsIHNJRCwgcElELCBmbmJfMSwgdHJJRCwgZm5iXzNdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRySURTLnB1c2godHJJRCk7XHJcbiAgICAgICAgICAgICAgICB0cklEUy5wdXNoKG5iSUQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLiBIZWxwZXJzXHJcblxyXG4gICAgcHJpdmF0ZSByZXBsYWNlTmVpZ2hib3IodHJJRDogbnVtYmVyLCBuYk9sZDogbnVtYmVyLCBuYk5ldzogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHRoZXJlIGFyZSBwcmV0dGllciB3YXlzLCBidXQgdGhpcyBpcyBmYXN0XHJcbiAgICAgICAgaWYgKHRySUQgPT0gLTEpIHJldHVybjtcclxuICAgICAgICBpZiggICAgICB0aGlzLnRyc1t0cklEXVszXSA9PSBuYk9sZCkgIHRoaXMudHJzW3RySURdWzNdID0gbmJOZXc7XHJcbiAgICAgICAgZWxzZSBpZiggdGhpcy50cnNbdHJJRF1bNF0gPT0gbmJPbGQpICB0aGlzLnRyc1t0cklEXVs0XSA9IG5iTmV3O1xyXG4gICAgICAgIGVsc2UgaWYoIHRoaXMudHJzW3RySURdWzVdID09IG5iT2xkKSAgdGhpcy50cnNbdHJJRF1bNV0gPSBuYk5ldztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVwbGFjZSBuZWlnaGJvciBmYWlsZWQhXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TmVpZ2hib3JUcmlhbmdsZSh0cmlhbmdsZUlEOiBudW1iZXIsIHBvaW50SUQ6IG51bWJlcikgOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bMF0gPT0gcG9pbnRJRCkgaW5kZXggPSAzO1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVsxXSA9PSBwb2ludElEKSBpbmRleCA9IDQ7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzJdID09IHBvaW50SUQpIGluZGV4ID0gNTtcclxuICAgICAgICByZXR1cm4gdGhpcy50cnNbdHJpYW5nbGVJRF1baW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TmVpZ2hib3JQb2ludCh0cmlhbmdsZUlEOiBudW1iZXIsIG5laWdoYm9ySUQ6IG51bWJlcikgOiBudW1iZXJcclxuICAgIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bM10gPT0gbmVpZ2hib3JJRCkgaW5kZXggPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVs0XSA9PSBuZWlnaGJvcklEKSBpbmRleCA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzVdID09IG5laWdoYm9ySUQpIGluZGV4ID0gMjtcclxuICAgICAgICByZXR1cm4gdGhpcy50cnNbdHJpYW5nbGVJRF1baW5kZXhdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZ3JhbUhlbHBlcnNcclxue1xyXG4gICAgc3RhdGljIGdldE1vdmVtZW50VmVjdG9yKGdlb246IEdlb24sIG1pbnNwZWVkOiBudW1iZXIsIG1heHNwZWVkOiBudW1iZXIpIDogVmVjdG9yMlxyXG4gICAge1xyXG4gICAgICAgIGxldCBzcGVlZCA9IG1pbnNwZWVkO1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eSA9ICBuZXcgVmVjdG9yMigwLDApO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5RG93bihcInNoaWZ0XCIpKVxyXG4gICAgICAgICAgICBzcGVlZCA9IG1heHNwZWVkO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5RG93bihcImFycm93dXBcIikgfHwgZ2Vvbi5Jc0tleURvd24oXCJ3XCIpKVxyXG4gICAgICAgICAgICB2ZWxvY2l0eS5hZGQobmV3IFZlY3RvcjIoMCwgMSkpO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5RG93bihcImFycm93ZG93blwiKSB8fCBnZW9uLklzS2V5RG93bihcInNcIikpXHJcbiAgICAgICAgICAgIHZlbG9jaXR5LmFkZChuZXcgVmVjdG9yMigwLCAtMSkpO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5RG93bihcImFycm93bGVmdFwiKSB8fCBnZW9uLklzS2V5RG93bihcImFcIikpXHJcbiAgICAgICAgICAgIHZlbG9jaXR5LmFkZChuZXcgVmVjdG9yMigxLCAwKSk7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlEb3duKFwiYXJyb3dyaWdodFwiKSB8fCBnZW9uLklzS2V5RG93bihcImRcIikpXHJcbiAgICAgICAgICAgIHZlbG9jaXR5LmFkZCggbmV3IFZlY3RvcjIoLTEsIDApKTtcclxuICAgICAgICByZXR1cm4gdmVsb2NpdHkuc2V0TGVuZ3RoKHNwZWVkKTtcclxuICAgIH1cclxufVxyXG4gICAgXHJcbiAgICBcclxuIiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcblxyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBMaW5lMiB9IGZyb20gXCIuLi9nZW8yL2xpbmUyXCI7XHJcbmltcG9ydCB7IERlbGF1bmF5IH0gZnJvbSBcIi4uL2dlbzIvRGVsYXVuYXlcIjtcclxuaW1wb3J0IHsgUHJvZ3JhbUhlbHBlcnMgfSBmcm9tIFwiLi9Qcm9ncmFtSGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGF1bmF5UHJvZ3JhbSBleHRlbmRzIFByb2dyYW1cclxue1xyXG4gICAgc3dpdGNoID0gMDtcclxuICAgIGR0OiBEZWxhdW5heSA9IG5ldyBEZWxhdW5heSgpO1xyXG4gICAgcDogVmVjdG9yMltdID0gW107XHJcblxyXG4gICAgc3RhcnQoZ2VvbjogR2VvbilcclxuICAgIHsgXHJcbiAgICAgICAgbGV0IHB0ID0gbmV3IFZlY3RvcjIoZ2Vvbi53aWR0aCAvIDIsIGdlb24uaGVpZ2h0IC8gMilcclxuICAgICAgICB0aGlzLmFkZChwdCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VMZWZ0UHJlc3NlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBpbnNlcnRpb24gPSBWZWN0b3IyLmZyb21Db3B5KGdlb24ud29ybGRNb3VzZSk7ICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmFkZChpbnNlcnRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZVJpZ2h0RG93bilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucHVsbChnZW9uLndvcmxkTW91c2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZCgnaCcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zd2l0Y2ggKz0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3dpdGNoID4gMikgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaCA9IDA7ICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBsZXJwIGR0IGJhY2sgdG8gb3JpZ2luYWxcclxuICAgICAgICB0aGlzLmR0LmdldFZlcnRpY2VzKCkuZm9yRWFjaCgoZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBlLmxlcnAodGhpcy5wW2ldLCAwLjA1KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdXBkYXRlIGNhbWVyYVxyXG4gICAgICAgIGxldCB2ZWwgPSBQcm9ncmFtSGVscGVycy5nZXRNb3ZlbWVudFZlY3RvcihnZW9uLCAyIC8gZ2Vvbi5yLnNjYWxlLCA1IC8gZ2Vvbi5yLnNjYWxlKTtcclxuICAgICAgICBnZW9uLnIub2Zmc2V0LmFkZCh2ZWwpO1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZCgncScpKVxyXG4gICAgICAgICAgICBnZW9uLnIuc2NhbGUgKj0gMS41O1xyXG4gICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZCgnZScpKVxyXG4gICAgICAgICAgICBnZW9uLnIuc2NhbGUgKj0gMC41O1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBkcmF3IGN1cnNvclxyXG4gICAgICAgIGdlb24uci5wb2ludChnZW9uLm1vdXNlLngsIGdlb24ubW91c2UueSk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgcG9pbnRzXHJcbiAgICAgICAgZ2Vvbi5yLnBvaW50cyh0aGlzLmR0LmdldFZlcnRpY2VzKCkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zd2l0Y2ggPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIGRyYXcgZGVsYXVuYXkgdHJpYW5ndWxhdGlvblxyXG4gICAgICAgICAgICBnZW9uLnIubGluZVNlZ21lbnRzKHRoaXMuZHQuZ2V0RWRnZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3dpdGNoID09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBkcmF3IHZvcm9ub2kgZGlhZ3JhbVxyXG4gICAgICAgICAgICBnZW9uLnIubGluZVNlZ21lbnRzKHRoaXMuZHQuZ2V0Vm9yb25vaUVkZ2VzKHRydWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zd2l0Y2ggPT0gMilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vZHJhdyBjaXJjdW1jaXJjbGVzXHJcbiAgICAgICAgICAgIHRoaXMuZHQuY2FsY3VsYXRlQ0MoKTtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmR0LmdldENDKCk7XHJcbiAgICAgICAgICAgIGdlb24uci5jaXJjbGVzKGRhdGEuY2MsIGRhdGEucik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC4uLlxyXG5cclxuICAgIGFkZCh2OiBWZWN0b3IyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHNpbXVsYXRlIGltcGFjdFxyXG4gICAgICAgIHRoaXMuZHQuSW5zZXJ0KHYpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIG9yaWdpbmFsIHBvaW50c1xyXG4gICAgICAgIHRoaXMucCA9IHRoaXMuZHQuZ2V0VmVydGljZXMoKS5tYXAoZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmNsb25lKClcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgICB0aGlzLmRpc3R1cmIodiwgMjAsIDgwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVsbCh2OiBWZWN0b3IyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGRpc3BsYWNlIGR0IFxyXG4gICAgICAgIC8vIHRoaXMuZHQuZ2V0VmVydGljZXMoKS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIC8vICAgICBlLmFkZChWZWN0b3IyLmZyb21SYW5kb21BbmdsZSgpLnNjYWxlKE1hdGgubWluKDEwLCA1MDAgLyBlLmRpc1RvKHYpKSkpXHJcbiAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgLy8gZGlzcGxhY2UgZHQgXHJcbiAgICAgICAgbGV0IHZlcnRpY2VzID0gdGhpcy5kdC5nZXRWZXJ0aWNlcygpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBlID0gdmVydGljZXNbaV07XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnBbaV07XHJcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gVmVjdG9yMi5mcm9tMlB0KHYsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSBkaWZmZXJlbmNlLmxlbmd0aCgpO1xyXG4gICAgICAgICAgICBpZiAobGVuZ3RoIDwgNSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGUuYWRkKGRpZmZlcmVuY2Uubm9ybWFsaXplKCkuc2NhbGUoTWF0aC5taW4oMSwgNTAwIC8gbGVuZ3RoKSkpXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBkaXN0dXJiKHY6IFZlY3RvcjIsIHN0cmVuZ3RoOiBudW1iZXIsIHJhbmdlOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZGlzcGxhY2UgZHQgXHJcbiAgICAgICAgdGhpcy5kdC5nZXRWZXJ0aWNlcygpLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgIGUuYWRkKFZlY3RvcjIuZnJvbVJhbmRvbUFuZ2xlKCkuc2NhbGUoTWF0aC5taW4oc3RyZW5ndGgsIHJhbmdlIC8gZS5kaXNUbyh2KSkpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4vR2VvblwiO1xyXG5cclxuaW1wb3J0IHsgU2VsZWN0b3JNZXRhUHJvZ3JhbSB9IGZyb20gXCIuL3Byb2dyYW1zL1NlbGVjdG9yXCI7XHJcblxyXG5pbXBvcnQgeyBCb3VuY2VCYWxsc1Byb2dyYW0gfSBmcm9tIFwiLi9wcm9ncmFtcy9Cb3VuY2VCYWxsc1Byb2dyYW1cIjtcclxuaW1wb3J0IHsgRGVsYXVuYXlQcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbXMvRGVsYXVuYXlQcm9ncmFtXCI7XHJcblxyXG5jb25zdCBwcm9ncmFtczogYW55W10gPSBcclxuW1xyXG4gICAgQm91bmNlQmFsbHNQcm9ncmFtLFxyXG4gICAgRGVsYXVuYXlQcm9ncmFtXHJcbl07XHJcbmNvbnN0IG1ldGEgPSBuZXcgU2VsZWN0b3JNZXRhUHJvZ3JhbShwcm9ncmFtcyk7XHJcblxyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSEgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbmNvbnN0IGdlb24gPSBuZXcgR2VvbihjYW52YXMpO1xyXG5nZW9uLmxvYWRNZXRhKG1ldGEpOyAgICAgICAgICAgICAvLyBwcm9ncmFtIHNlbGVjdG9yXHJcbmdlb24ubG9hZChuZXcgRGVsYXVuYXlQcm9ncmFtKCkpOyAvLyBmaXJzdCBwcm9ncmFtIHRvIGxvYWQgXHJcblxyXG5cclxuY29uc29sZS5sb2coXCJldmVyeXRoaW5nIGxvYWRlZC5cIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///400\n')})();